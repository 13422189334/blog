<template><div><h2 id="canvas-是什么" tabindex="-1"><a class="header-anchor" href="#canvas-是什么" aria-hidden="true">#</a> Canvas 是什么？</h2>
<blockquote>
<p>Canvas 中文名叫 <code v-pre>画布</code>，是 HTML5 <code v-pre>新增</code>的一个<code v-pre>标签</code>。</p>
<p>Canvas 允许开发者通过JS在这个标签上绘制各种图案。</p>
<p>Canvas 拥有多种绘制路径、矩形、圆形、字符以及图片的方法。</p>
<p>Canvas 在某些情况下可以 <code v-pre>代替</code> 图片。</p>
<p>Canvas 可用于动画、游戏、数据可视化、图片编辑器、实时视频处理等领域。</p>
</blockquote>
<h3 id="canvas-和-svg-的区别" tabindex="-1"><a class="header-anchor" href="#canvas-和-svg-的区别" aria-hidden="true">#</a> Canvas 和 SVG 的区别</h3>
<table>
<thead>
<tr>
<th>Canvas</th>
<th>SVG</th>
</tr>
</thead>
<tbody>
<tr>
<td>用<code v-pre>JS</code>动态生成元素（一个HTML元素）</td>
<td>用<code v-pre>XML</code>描述元素（类似HTML元素那样，可用多个元素来描述一个图形）</td>
</tr>
<tr>
<td>位图（受屏幕分辨率影响）</td>
<td>矢量图（不受屏幕分辨率影响）</td>
</tr>
<tr>
<td>不支持事件</td>
<td>支持事件</td>
</tr>
<tr>
<td>数据发生变化需要重绘</td>
<td>不需要重绘</td>
</tr>
</tbody>
</table>
<p>上面的描述可能有点难懂，可以打开 <code v-pre>AntV</code> 旗下的<code v-pre>图形编辑引擎</code>做对比。<code v-pre>G6</code> 是使用 canvas 开发的，<code v-pre>X6</code> 是使用 svg 开发的。</p>
<div class="custom-container info">
<p class="custom-container-title">Tips</p>
<p>如果要展示的<code v-pre>数据量比较大</code>，比如一条数据就是一个元素节点，那使用 canvas 会比较合适；如果用户操作的<code v-pre>交互比较多</code>，而且对<code v-pre>清晰度</code>有要求（矢量图），那么使用 svg 会比较合适。</p>
</div>
<h2 id="起步-画条直线" tabindex="-1"><a class="header-anchor" href="#起步-画条直线" aria-hidden="true">#</a> 起步 - 画条直线</h2>
<ul>
<li>在 HTML 中创建 canvas 元素</li>
<li>通过 js 获取 canvas 标签</li>
<li>从 canvas 标签中获取到绘图工具</li>
<li>通过绘图工具，在 canvas 标签上绘制图形</li>
</ul>

<CodeDemo id="code-demo-d0b14260" type="vue" code="%7B%22vue%22%3A%22%3C!--%201%E3%80%81%E5%88%9B%E5%BB%BA%20canvas%20%E5%85%83%E7%B4%A0%20--%3E%5Cn%3Ctemplate%3E%5Cn%3Ccanvas%5Cn%20%20id%3D%5C%22canvas_001%5C%22%5Cn%20%20width%3D%5C%22300%5C%22%5Cn%20%20height%3D%5C%22200%5C%22%5Cn%20%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%5Cn%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20%20%20%2F%2F%202%E3%80%81%E8%8E%B7%E5%8F%96%20canvas%20%E5%AF%B9%E8%B1%A1%5Cn%20%20%20%20const%20cnv%20%3D%20document.getElementById('canvas_001')%5Cn%20%20%20%20%2F%2F%203%E3%80%81%E8%8E%B7%E5%8F%96%20canvas%20%E4%B8%8A%E4%B8%8B%E6%96%87%E7%8E%AF%E5%A2%83%E5%AF%B9%E8%B1%A1%5Cn%20%20%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%20%20%20%20%2F%2F%204%E3%80%81%E7%BB%98%E5%88%B6%E5%9B%BE%E5%BD%A2%5Cn%20%20%20%20cxt.moveTo(100%2C%20100)%20%2F%2F%20%E8%B5%B7%E7%82%B9%E5%9D%90%E6%A0%87%20(x%2C%20y)%5Cn%20%20%20%20cxt.lineTo(200%2C%20100)%20%2F%2F%20%E7%BB%88%E7%82%B9%E5%9D%90%E6%A0%87%20(x%2C%20y)%5Cn%20%20%20%20cxt.stroke()%20%2F%2F%20%E5%B0%86%E8%B5%B7%E7%82%B9%E5%92%8C%E7%BB%88%E7%82%B9%E8%BF%9E%E6%8E%A5%E8%B5%B7%E6%9D%A5%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token comment">&lt;!-- 1、创建 canvas 元素 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span>
  <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_001<span class="token punctuation">"</span></span>
  <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span>
  <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>200<span class="token punctuation">"</span></span>
  <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span>
<span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 2、获取 canvas 对象</span>
    <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_001'</span><span class="token punctuation">)</span>
    <span class="token comment">// 3、获取 canvas 上下文环境对象</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
    <span class="token comment">// 4、绘制图形</span>
    cxt<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token comment">// 起点坐标 (x, y)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token comment">// 终点坐标 (x, y)</span>
    cxt<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 将起点和终点连接起来</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo><h3 id="默认宽高" tabindex="-1"><a class="header-anchor" href="#默认宽高" aria-hidden="true">#</a> 默认<code v-pre>宽高</code></h3>
<p>canvas 有 <code v-pre>默认</code>的 <code v-pre>宽度(300px)</code> 和 <code v-pre>高度(150px)</code></p>
<p>如果不在 canvas 上设置宽高，那 canvas 元素的默认宽度是300px，默认高度是150px。</p>
<h3 id="设置-canvas-宽高" tabindex="-1"><a class="header-anchor" href="#设置-canvas-宽高" aria-hidden="true">#</a> 设置 canvas 宽高</h3>
<p>canvas 元素提供了 <code v-pre>width</code> 和 <code v-pre>height</code> 两个属性，可设置它的宽高。</p>
<p>需要注意的是，这两个属性只需传入数值，不需要传入单位（比如 px 等）。</p>
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>600<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>400<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="不能通过-css-设置画布的宽高" tabindex="-1"><a class="header-anchor" href="#不能通过-css-设置画布的宽高" aria-hidden="true">#</a> 不能通过 <code v-pre>CSS</code> 设置画布的宽高</h3>
<p>使用 css 设置 canvas 的宽高，会出现 <code v-pre>内容被拉伸</code> 的后果！！！ canvas 的默认宽度是<code v-pre>300px</code>，默认高度是<code v-pre>150px</code>。</p>
<p>如果使用 css 修改 canvas 的宽高（比如变成 400px * 400px），那宽度就由 <code v-pre>300px 拉伸到 400px</code>，高度由 <code v-pre>150px 拉伸到 400px</code>。使用 <code v-pre>js</code> 获取 canvas 的宽高，此时返回的是 canvas 的<code v-pre>默认值</code>。最后出现的效果如下所示。</p>

<CodeDemo id="code-demo-4c4636f8" type="vue" code="%7B%22vue%22%3A%22%3Cstyle%3E%5Cn%20%20%23canvas_002%20%7B%5Cn%20%20%20%20width%3A%20400px%3B%5Cn%20%20%20%20height%3A%20400px%3B%5Cn%20%20%20%20border%3A%201px%20solid%20%23ccc%3B%5Cn%20%20%7D%5Cn%3C%2Fstyle%3E%5Cn%3Ctemplate%3E%5Cn%3Ccanvas%5Cn%20%20id%3D%5C%22canvas_002%5C%22%5Cn%20%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%5Cn%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20%20%20%2F%2F%202%E3%80%81%E8%8E%B7%E5%8F%96%20canvas%20%E5%AF%B9%E8%B1%A1%5Cn%20%20%20%20const%20cnv%20%3D%20document.getElementById('canvas_002')%5Cn%20%20%20%20%2F%2F%203%E3%80%81%E8%8E%B7%E5%8F%96%20canvas%20%E4%B8%8A%E4%B8%8B%E6%96%87%E7%8E%AF%E5%A2%83%E5%AF%B9%E8%B1%A1%5Cn%20%20%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%20%20%20%20%2F%2F%204%E3%80%81%E7%BB%98%E5%88%B6%E5%9B%BE%E5%BD%A2%5Cn%20%20%20%20cxt.moveTo(100%2C%20100)%20%2F%2F%20%E8%B5%B7%E7%82%B9%E5%9D%90%E6%A0%87%20(x%2C%20y)%5Cn%20%20%20%20cxt.lineTo(200%2C%20100)%20%2F%2F%20%E7%BB%88%E7%82%B9%E5%9D%90%E6%A0%87%20(x%2C%20y)%5Cn%20%20%20%20cxt.stroke()%20%2F%2F%20%E5%B0%86%E8%B5%B7%E7%82%B9%E5%92%8C%E7%BB%88%E7%82%B9%E8%BF%9E%E6%8E%A5%E8%B5%B7%E6%9D%A5%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
  <span class="token selector">#canvas_002</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 400px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 400px<span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span>
  <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_002<span class="token punctuation">"</span></span>
  <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span>
<span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 2、获取 canvas 对象</span>
    <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_002'</span><span class="token punctuation">)</span>
    <span class="token comment">// 3、获取 canvas 上下文环境对象</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
    <span class="token comment">// 4、绘制图形</span>
    cxt<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token comment">// 起点坐标 (x, y)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token comment">// 终点坐标 (x, y)</span>
    cxt<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 将起点和终点连接起来</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo><h3 id="线条默认宽度和颜色" tabindex="-1"><a class="header-anchor" href="#线条默认宽度和颜色" aria-hidden="true">#</a> <code v-pre>线条</code>默认<code v-pre>宽度</code>和<code v-pre>颜色</code></h3>
<p>线条的默认宽度是 <code v-pre>1px</code> ，默认颜色是 <code v-pre>黑色</code>。</p>
<p>但由于默认情况下 canvas 会将线条的<code v-pre>中心点</code>和<code v-pre>像素的底部</code>对齐，所以会导致显示效果是 <code v-pre>2px</code> 和<code v-pre>非纯黑色</code>问题。</p>
<ul>
<li>IE兼容性高</li>
</ul>
<p>暂时只有 <code v-pre>IE 9</code> 以上才支持 canvas 。</p>
<p>如需兼容 IE 7 和 8 ，可以使用 <code v-pre>ExplorerCanvas</code> 。但即使是使用了 ExplorerCanvas 仍然会有所限制，比如无法使用 <code v-pre>fillText()</code> 方法等。</p>
<h2 id="基础图形" tabindex="-1"><a class="header-anchor" href="#基础图形" aria-hidden="true">#</a> 基础图形</h2>
<h3 id="坐标系" tabindex="-1"><a class="header-anchor" href="#坐标系" aria-hidden="true">#</a> 坐标系</h3>
<p>在绘制基础图形之前，需要先搞清楚 Canvas 使用的坐标系。</p>
<p>Canvas 使用的是 W3C 坐标系 ，也就是遵循我们屏幕、报纸的阅读习惯，<code v-pre>从上往下，从左往右</code>。</p>
<img :src="$withBase('/assets/knowledge/frontEnd/canvas/KFC_001.jpg')" />
<p>W3C 坐标系 和 数学直角坐标系 的 <code v-pre>X轴</code> 是<code v-pre>一样的</code>，只是 <code v-pre>Y轴</code> 的<code v-pre>方向相反</code>。</p>
<h3 id="直线" tabindex="-1"><a class="header-anchor" href="#直线" aria-hidden="true">#</a> 直线</h3>
<p>最简单的起步方式是画一条直线。这里所说的 <code v-pre>直线</code> 是几何学里的 <code v-pre>线段</code> 的意思。</p>
<p>需要用到这3个方法：</p>
<ul>
<li>moveTo(x1, y1)：起点坐标 (x, y)</li>
<li>lineTo(x2, y2)：下一个点的坐标 (x, y)</li>
<li>stroke()：将所有坐标用一条线连起来</li>
</ul>

<CodeDemo id="code-demo-5bf4775a" type="vue" code="%7B%22vue%22%3A%22%3Ctemplate%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_003%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20%20%20const%20cnv%20%3D%20document.getElementById('canvas_003')%5Cn%20%20%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%20%20%20%20%2F%2F%20%E7%BB%98%E5%88%B6%E7%9B%B4%E7%BA%BF%5Cn%20%20%20%20cxt.moveTo(50%2C%20100)%20%2F%2F%20%E8%B5%B7%E7%82%B9%E5%9D%90%E6%A0%87%5Cn%20%20%20%20cxt.lineTo(200%2C%2050)%20%2F%2F%20%E4%B8%8B%E4%B8%80%E4%B8%AA%E7%82%B9%E7%9A%84%E5%9D%90%E6%A0%87%5Cn%20%20%20%20cxt.stroke()%20%2F%2F%20%E5%B0%86%E4%B8%8A%E9%9D%A2%E7%9A%84%E5%9D%90%E6%A0%87%E7%94%A8%E4%B8%80%E6%9D%A1%E7%BA%BF%E8%BF%9E%E6%8E%A5%E8%B5%B7%E6%9D%A5%20%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_003<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_003'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
    <span class="token comment">// 绘制直线</span>
    cxt<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token comment">// 起点坐标</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span> <span class="token comment">// 下一个点的坐标</span>
    cxt<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 将上面的坐标用一条线连接起来 </span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo><h3 id="多条直线" tabindex="-1"><a class="header-anchor" href="#多条直线" aria-hidden="true">#</a> 多条直线</h3>

<CodeDemo id="code-demo-e5679166" type="vue" code="%7B%22vue%22%3A%22%3Ctemplate%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_004%5C%22%20width%3D%5C%22300%5C%22%20height%3D%5C%22300%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20%20%20const%20cnv%20%3D%20document.getElementById('canvas_004')%5Cn%20%20%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%20%20%20%20cxt.moveTo(20%2C%20100)%5Cn%20%20%20%20cxt.lineTo(200%2C%20100)%5Cn%20%20%20%20cxt.stroke()%5Cn%20%20%20%20cxt.moveTo(20%2C%20120.5)%5Cn%20%20%20%20cxt.lineTo(200%2C%20120.5)%5Cn%20%20%20%20cxt.stroke()%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_004<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_004'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">120.5</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">120.5</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo><div class="custom-container info">
<p class="custom-container-title">Tips</p>
<p>仔细观察一下，为什么两条线的粗细不一样的？</p>
</div>
<p>明明使用的方法都是一样的，只是第二条直线的 <code v-pre>Y轴</code> 的值是有<code v-pre>小数点</code>。</p>
<img :src="$withBase('/assets/knowledge/frontEnd/canvas/KFC_002.jpg')" />
<p>线的<code v-pre>中心点</code>会和<code v-pre>画布像素点</code>的底部对齐，所以会线<code v-pre>中间是黑色</code>的，但由于<code v-pre>一个像素不能再切割</code>了，所以会有<code v-pre>半个像素</code>被<code v-pre>染色</code>，就变成了<code v-pre>浅灰色</code>。</p>
<h4 id="样式" tabindex="-1"><a class="header-anchor" href="#样式" aria-hidden="true">#</a> 样式</h4>
<ul>
<li>lineWidth：线的粗细</li>
<li>strokeStyle：线的颜色</li>
<li>lineCap：线帽：默认: butt; 圆形: round; 方形: square</li>
</ul>

<CodeDemo id="code-demo-d3e02838" type="vue" code="%7B%22vue%22%3A%22%3Ctemplate%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_005%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20%20%20const%20cnv%20%3D%20document.getElementById('canvas_005')%5Cn%20%20%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%20%20%20%20%2F%2F%20%E7%BB%98%E5%88%B6%E7%9B%B4%E7%BA%BF%5Cn%20%20%20%20cxt.moveTo(50%2C%2050)%5Cn%20%20%20%20cxt.lineTo(200%2C%2050)%5Cn%20%20%20%20%2F%2F%20%E4%BF%AE%E6%94%B9%E7%9B%B4%E7%BA%BF%E7%9A%84%E5%AE%BD%E5%BA%A6%5Cn%20%20%20%20cxt.lineWidth%20%3D%2020%5Cn%20%20%20%20%2F%2F%20%E4%BF%AE%E6%94%B9%E7%9B%B4%E7%BA%BF%E7%9A%84%E9%A2%9C%E8%89%B2%5Cn%20%20%20%20cxt.strokeStyle%20%3D%20'pink'%5Cn%20%20%20%20%2F%2F%20%E4%BF%AE%E6%94%B9%E7%9B%B4%E7%BA%BF%E4%B8%A4%E7%AB%AF%E6%A0%B7%E5%BC%8F%5Cn%20%20%20%20cxt.lineCap%20%3D%20'butt'%20%2F%2F%20%E9%BB%98%E8%AE%A4%3A%20butt%3B%20%E5%9C%86%E5%BD%A2%3A%20round%3B%20%E6%96%B9%E5%BD%A2%3A%20square%5Cn%20%20%20%20cxt.stroke()%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_005<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_005'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
    <span class="token comment">// 绘制直线</span>
    cxt<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
    <span class="token comment">// 修改直线的宽度</span>
    cxt<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">20</span>
    <span class="token comment">// 修改直线的颜色</span>
    cxt<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'pink'</span>
    <span class="token comment">// 修改直线两端样式</span>
    cxt<span class="token punctuation">.</span>lineCap <span class="token operator">=</span> <span class="token string">'butt'</span> <span class="token comment">// 默认: butt; 圆形: round; 方形: square</span>
    cxt<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo><h4 id="新开路径" tabindex="-1"><a class="header-anchor" href="#新开路径" aria-hidden="true">#</a> 新开路径</h4>
<p>开辟新路径的方法：<code v-pre>beginPath()</code></p>
<p>在绘制<code v-pre>多条线段</code>的同时，还要设置线段<code v-pre>样式</code>，通常需要<code v-pre>开辟新路径</code>，要不然<code v-pre>样式</code>之间会<code v-pre>相互污染</code>。</p>

<CodeDemo id="code-demo-d117e474" type="vue" code="%7B%22vue%22%3A%22%3Ctemplate%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_006%5C%22%20width%3D%5C%22300%5C%22%20height%3D%5C%22300%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20%20%20const%20cnv%20%3D%20document.getElementById('canvas_006')%5Cn%20%20%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%20%20%20%20%2F%2F%20%E7%AC%AC%E4%B8%80%E6%9D%A1%E7%BA%BF%5Cn%20%20%20%20cxt.moveTo(20%2C%20100)%5Cn%20%20%20%20cxt.lineTo(200%2C%20100)%5Cn%20%20%20%20cxt.lineWidth%20%3D%2010%5Cn%20%20%20%20cxt.strokeStyle%20%3D%20'pink'%5Cn%20%20%20%20cxt.stroke()%5Cn%20%20%20%20%2F%2F%20%E7%AC%AC%E4%BA%8C%E6%9D%A1%E7%BA%BF%5Cn%20%20%20%20cxt.moveTo(20%2C%20120.5)%5Cn%20%20%20%20cxt.lineTo(200%2C%20120.5)%5Cn%20%20%20%20cxt.stroke()%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_006<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_006'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
    <span class="token comment">// 第一条线</span>
    cxt<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">10</span>
    cxt<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'pink'</span>
    cxt<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// 第二条线</span>
    cxt<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">120.5</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">120.5</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo><p>如果不想相互污染，需要做<code v-pre>2件事</code>：</p>
<ul>
<li>使用 <code v-pre>beginPath()</code> 方法，重新开一个路径</li>
<li>设置<code v-pre>新线段的样式</code>（必须项）</li>
</ul>
<p><code v-pre>如果上面2步缺了其中1步都会有影响。</code></p>
<h5 id="使用-beginpath-同时-不设置样式" tabindex="-1"><a class="header-anchor" href="#使用-beginpath-同时-不设置样式" aria-hidden="true">#</a> 使用 beginPath() 同时 不设置样式</h5>

<CodeDemo id="code-demo-528dd7bc" type="vue" code="%7B%22vue%22%3A%22%3Ctemplate%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_007%5C%22%20width%3D%5C%22300%5C%22%20height%3D%5C%22300%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20%20%20const%20cnv%20%3D%20document.getElementById('canvas_007')%5Cn%20%20%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%20%20%20%20%2F%2F%20%E7%AC%AC%E4%B8%80%E6%9D%A1%E7%BA%BF%5Cn%20%20%20%20cxt.moveTo(20%2C%20100)%5Cn%20%20%20%20cxt.lineTo(200%2C%20100)%5Cn%20%20%20%20cxt.lineWidth%20%3D%2010%5Cn%20%20%20%20cxt.strokeStyle%20%3D%20'pink'%5Cn%20%20%20%20cxt.stroke()%5Cn%20%20%20%20%2F%2F%20%E7%AC%AC%E4%BA%8C%E6%9D%A1%E7%BA%BF%5Cn%20%20%20%20cxt.beginPath()%20%2F%2F%20%E9%87%8D%E6%96%B0%E5%BC%80%E5%90%AF%E4%B8%80%E4%B8%AA%E8%B7%AF%E5%BE%84%5Cn%20%20%20%20cxt.moveTo(20%2C%20120.5)%5Cn%20%20%20%20cxt.lineTo(200%2C%20120.5)%5Cn%20%20%20%20cxt.stroke()%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_007<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_007'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
    <span class="token comment">// 第一条线</span>
    cxt<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">10</span>
    cxt<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'pink'</span>
    cxt<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// 第二条线</span>
    cxt<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 重新开启一个路径</span>
    cxt<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">120.5</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">120.5</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo><p>第一条线的<code v-pre>样式</code>会<code v-pre>影响之后的线</code>。</p>
<p>但如果使用了 <code v-pre>beginPath()</code> ，后面的线段不会影响前面的线段。</p>
<h5 id="使用-beginpath-同时-设置样式" tabindex="-1"><a class="header-anchor" href="#使用-beginpath-同时-设置样式" aria-hidden="true">#</a> 使用 beginPath() 同时 设置样式</h5>

<CodeDemo id="code-demo-34fd2204" type="vue" code="%7B%22vue%22%3A%22%3Ctemplate%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_008%5C%22%20width%3D%5C%22300%5C%22%20height%3D%5C%22300%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20%20%20const%20cnv%20%3D%20document.getElementById('canvas_008')%5Cn%20%20%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%20%20%20%20%2F%2F%20%E7%AC%AC%E4%B8%80%E6%9D%A1%E7%BA%BF%5Cn%20%20%20%20cxt.moveTo(20%2C%20100)%5Cn%20%20%20%20cxt.lineTo(200%2C%20100)%5Cn%20%20%20%20cxt.stroke()%5Cn%20%20%20%20%2F%2F%20%E7%AC%AC%E4%BA%8C%E6%9D%A1%E7%BA%BF%5Cn%20%20%20%20cxt.beginPath()%20%2F%2F%20%E9%87%8D%E6%96%B0%E5%BC%80%E5%90%AF%E4%B8%80%E4%B8%AA%E8%B7%AF%E5%BE%84%5Cn%20%20%20%20cxt.moveTo(20%2C%20120.5)%5Cn%20%20%20%20cxt.lineTo(200%2C%20120.5)%5Cn%20%20%20%20cxt.lineWidth%20%3D%204%5Cn%20%20%20%20cxt.strokeStyle%20%3D%20'red'%5Cn%20%20%20%20cxt.stroke()%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_008<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_008'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
    <span class="token comment">// 第一条线</span>
    cxt<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// 第二条线</span>
    cxt<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 重新开启一个路径</span>
    cxt<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">120.5</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">120.5</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">4</span>
    cxt<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'red'</span>
    cxt<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo><h5 id="不使用-beginpath-同时-设置样式" tabindex="-1"><a class="header-anchor" href="#不使用-beginpath-同时-设置样式" aria-hidden="true">#</a> 不使用 beginPath() 同时 设置样式</h5>

<CodeDemo id="code-demo-ae32dcd2" type="vue" code="%7B%22vue%22%3A%22%3Ctemplate%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_009%5C%22%20width%3D%5C%22300%5C%22%20height%3D%5C%22300%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20%20%20const%20cnv%20%3D%20document.getElementById('canvas_009')%5Cn%20%20%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%20%20%20%20%2F%2F%20%E7%AC%AC%E4%B8%80%E6%9D%A1%E7%BA%BF%5Cn%20%20%20%20cxt.moveTo(20%2C%20100)%5Cn%20%20%20%20cxt.lineTo(200%2C%20100)%5Cn%20%20%20%20cxt.lineWidth%20%3D%2010%5Cn%20%20%20%20cxt.strokeStyle%20%3D%20'pink'%5Cn%20%20%20%20cxt.stroke()%5Cn%20%20%20%20%2F%2F%20%E7%AC%AC%E4%BA%8C%E6%9D%A1%E7%BA%BF%5Cn%20%20%20%20cxt.moveTo(20%2C%20120.5)%5Cn%20%20%20%20cxt.lineTo(200%2C%20120.5)%5Cn%20%20%20%20cxt.lineWidth%20%3D%204%5Cn%20%20%20%20cxt.strokeStyle%20%3D%20'red'%5Cn%20%20%20%20cxt.stroke()%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_009<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_009'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
    <span class="token comment">// 第一条线</span>
    cxt<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">10</span>
    cxt<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'pink'</span>
    cxt<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// 第二条线</span>
    cxt<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">120.5</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">120.5</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">4</span>
    cxt<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'red'</span>
    cxt<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo><h3 id="折线" tabindex="-1"><a class="header-anchor" href="#折线" aria-hidden="true">#</a> 折线</h3>
<p>和 <code v-pre>直线</code> 差不多，都是使用 <code v-pre>moveTo()</code> 、<code v-pre>lineTo()</code> 和 <code v-pre>stroke()</code> 方法可以<code v-pre>绘制折线</code>。</p>

<CodeDemo id="code-demo-5031742f" type="vue" code="%7B%22vue%22%3A%22%3Ctemplate%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_010%5C%22%20width%3D%5C%22300%5C%22%20height%3D%5C%22300%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20%20%20const%20cnv%20%3D%20document.getElementById('canvas_010')%5Cn%20%20%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%20%20%20%20cxt.moveTo(50%2C%20200)%5Cn%20%20%20%20cxt.lineTo(100%2C%2050)%5Cn%20%20%20%20cxt.lineTo(200%2C%20200)%5Cn%20%20%20%20cxt.lineTo(250%2C%2050)%5Cn%20%20%20%20cxt.stroke()%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_010<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_010'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo><h3 id="矩形" tabindex="-1"><a class="header-anchor" href="#矩形" aria-hidden="true">#</a> 矩形</h3>
<p>根据前面的基础，我们可以 使用<code v-pre>线段</code>来<code v-pre>描绘矩形</code>，但 canvas 也提供了 <code v-pre>rect()</code> 等方法可以直接生成矩形。</p>
<h4 id="线段描绘矩形" tabindex="-1"><a class="header-anchor" href="#线段描绘矩形" aria-hidden="true">#</a> 线段描绘矩形</h4>

<CodeDemo id="code-demo-c52bcfb0" type="vue" code="%7B%22vue%22%3A%22%3Ctemplate%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_011%5C%22%20width%3D%5C%22300%5C%22%20height%3D%5C%22300%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20%20%20const%20cnv%20%3D%20document.getElementById('canvas_011')%5Cn%20%20%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%20%20%20%20%2F%2F%20%E7%BB%98%E5%88%B6%E7%9F%A9%E5%BD%A2%5Cn%20%20%20%20cxt.moveTo(50%2C%2050)%5Cn%20%20%20%20cxt.lineTo(200%2C%2050)%5Cn%20%20%20%20cxt.lineTo(200%2C%20120)%5Cn%20%20%20%20cxt.lineTo(50%2C%20120)%5Cn%20%20%20%20cxt.lineTo(50%2C%2050)%20%2F%2F%20%E9%9C%80%E8%A6%81%E9%97%AD%E5%90%88%EF%BC%8C%E5%8F%88%E6%88%96%E8%80%85%E4%BD%BF%E7%94%A8%20closePath()%20%E6%96%B9%E6%B3%95%E8%BF%9B%E8%A1%8C%E9%97%AD%E5%90%88%EF%BC%8C%E6%8E%A8%E8%8D%90%E4%BD%BF%E7%94%A8%20closePath()%5Cn%20%20%20%20%2F%2F%20cxt.closePath()%5Cn%20%20%20%20cxt.stroke()%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_011<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_011'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
    <span class="token comment">// 绘制矩形</span>
    cxt<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span> <span class="token comment">// 需要闭合，又或者使用 closePath() 方法进行闭合，推荐使用 closePath()</span>
    <span class="token comment">// cxt.closePath()</span>
    cxt<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo><h4 id="strokerect-描边矩形" tabindex="-1"><a class="header-anchor" href="#strokerect-描边矩形" aria-hidden="true">#</a> strokeRect() 描边矩形</h4>
<ul>
<li>strokeStyle：设置描边的属性（<code v-pre>颜色</code>、<code v-pre>渐变</code>、<code v-pre>图案</code>）</li>
<li>strokeRect(x, y, width, height)：描边矩形（x和y是矩形<code v-pre>左上角起点</code>；<code v-pre>width</code> 和 <code v-pre>height</code> 是矩形的<code v-pre>宽高</code>）</li>
<li>strokeStyle 必须写在 strokeRect() 前面，不然样式不生效。</li>
</ul>

<CodeDemo id="code-demo-38917fe0" type="vue" code="%7B%22vue%22%3A%22%3Ctemplate%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_012%5C%22%20width%3D%5C%22300%5C%22%20height%3D%5C%22300%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20%20%20const%20cnv%20%3D%20document.getElementById('canvas_012')%5Cn%20%20%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%20%20%20%20%2F%2F%20strokeStyle%20%E5%B1%9E%E6%80%A7%5Cn%20%20%20%20%2F%2F%20strokeRect(x%2C%20y%2C%20width%2C%20height)%20%E6%96%B9%E6%B3%95%5Cn%20%20%20%20cxt.strokeStyle%20%3D%20'pink'%5Cn%20%20%20%20cxt.strokeRect(50%2C%2050%2C%20200%2C%20100)%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_012<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_012'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
    <span class="token comment">// strokeStyle 属性</span>
    <span class="token comment">// strokeRect(x, y, width, height) 方法</span>
    cxt<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'pink'</span>
    cxt<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo><h4 id="fillrect-填充矩形" tabindex="-1"><a class="header-anchor" href="#fillrect-填充矩形" aria-hidden="true">#</a> fillRect() 填充矩形</h4>
<p><code v-pre>fillRect()</code> 和 <code v-pre>strokeRect()</code> 方法差不多，但 fillRect() 的作用是<code v-pre>填充</code>。</p>
<p>需要注意的是，<code v-pre>fillStyle</code> 必须写在 <code v-pre>fillRect()</code> <code v-pre>之前</code>，不然样式不生效。</p>

<CodeDemo id="code-demo-615d3d76" type="vue" code="%7B%22vue%22%3A%22%3Ctemplate%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_013%5C%22%20width%3D%5C%22300%5C%22%20height%3D%5C%22300%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20%20%20const%20cnv%20%3D%20document.getElementById('canvas_013')%5Cn%20%20%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%20%20%20%20%2F%2F%20fillStyle%20%E5%B1%9E%E6%80%A7%5Cn%20%20%20%20%2F%2F%20fillRect(x%2C%20y%2C%20width%2C%20height)%20%E6%96%B9%E6%B3%95%5Cn%20%20%20%20cxt.fillStyle%20%3D%20'pink'%5Cn%20%20%20%20cxt.fillRect(50%2C%2050%2C%20200%2C%20100)%20%2F%2F%20fillRect(x%2C%20y%2C%20width%2C%20height)%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_013<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_013'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
    <span class="token comment">// fillStyle 属性</span>
    <span class="token comment">// fillRect(x, y, width, height) 方法</span>
    cxt<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'pink'</span>
    cxt<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token comment">// fillRect(x, y, width, height)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo><h4 id="strokerect-和-fillrect" tabindex="-1"><a class="header-anchor" href="#strokerect-和-fillrect" aria-hidden="true">#</a> strokeRect() 和 fillRect()</h4>
<p>会产生<code v-pre>描边</code>和<code v-pre>填充</code>的效果</p>

<CodeDemo id="code-demo-d553ba1e" type="vue" code="%7B%22vue%22%3A%22%3Ctemplate%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_014%5C%22%20width%3D%5C%22300%5C%22%20height%3D%5C%22300%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20%20%20const%20cnv%20%3D%20document.getElementById('canvas_014')%5Cn%20%20%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%20%20%20%20cxt.strokeStyle%20%3D%20'red'%5Cn%20%20%20%20cxt.strokeRect(50%2C%2050%2C%20200%2C%20100)%20%2F%2F%20strokeRect(x%2C%20y%2C%20width%2C%20height)%5Cn%20%20%20%20cxt.fillStyle%20%3D%20'yellow'%5Cn%20%20%20%20cxt.fillRect(50%2C%2050%2C%20200%2C%20100)%20%2F%2F%20fillRect(x%2C%20y%2C%20width%2C%20height)%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_014<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_014'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'red'</span>
    cxt<span class="token punctuation">.</span><span class="token function">strokeRect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token comment">// strokeRect(x, y, width, height)</span>
    cxt<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'yellow'</span>
    cxt<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token comment">// fillRect(x, y, width, height)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo><h4 id="rect-生成矩形" tabindex="-1"><a class="header-anchor" href="#rect-生成矩形" aria-hidden="true">#</a> rect() 生成矩形</h4>
<div class="custom-container info">
<p class="custom-container-title">Tips</p>
<p><code v-pre>rect()</code> 和 <code v-pre>fillRect()</code> 、<code v-pre>strokeRect()</code> 的用法差不多，唯一的<code v-pre>区别</code>是：</p>
<p>strokeRect() 和 fillRect() 这两个方法调用后会<code v-pre>立即绘制</code>；</p>
<p><code v-pre>rect()</code> 方法被调用后，<code v-pre>不会立刻绘制矩形</code>，而是需要调用 <code v-pre>stroke()</code> 或 <code v-pre>fill()</code> 辅助渲染。</p>
</div>

<CodeDemo id="code-demo-03188518" type="vue" code="%7B%22vue%22%3A%22%3Ctemplate%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_015%5C%22%20width%3D%5C%22300%5C%22%20height%3D%5C%22300%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20%20%20const%20cnv%20%3D%20document.getElementById('canvas_015')%5Cn%20%20%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%20%20%20%20cxt.strokeStyle%20%3D%20'red'%5Cn%20%20%20%20cxt.fillStyle%20%3D%20'pink'%5Cn%20%20%20%20cxt.rect(50%2C%2050%2C%20200%2C%20100)%20%2F%2F%20rect(x%2C%20y%2C%20width%2C%20height)%5Cn%20%20%20%20cxt.stroke()%5Cn%20%20%20%20cxt.fill()%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_015<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_015'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'red'</span>
    cxt<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'pink'</span>
    cxt<span class="token punctuation">.</span><span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token comment">// rect(x, y, width, height)</span>
    cxt<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo><p>等价公式：</p>
<div class="language-JavaScript ext-JavaScript line-numbers-mode"><pre v-pre class="language-JavaScript"><code>cxt.strokeStyle = 'red',
cxt.rect(50, 50, 200, 100)
cxt.stroke()

// 等价于
cxt.strokeStyle = 'red'
cxt.strokeRect(50, 50, 200, 100)

//----------------//

cxt.fillStyle = 'pink'
cxt.rect(50, 50, 200, 100)
cxt.fill()
// 等价于
cxt.fillStyle = 'pink'
cxt.fillRect(50, 50, 200, 100)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="clearrect-清空矩形" tabindex="-1"><a class="header-anchor" href="#clearrect-清空矩形" aria-hidden="true">#</a> clearRect() 清空矩形</h4>

<CodeDemo id="code-demo-01eb76c8" type="vue" code="%7B%22vue%22%3A%22%3Ctemplate%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_016%5C%22%20width%3D%5C%22300%5C%22%20height%3D%5C%22300%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20%20%20const%20cnv%20%3D%20document.getElementById('canvas_016')%5Cn%20%20%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%20%20%20%20cxt.fillStyle%20%3D%20'pink'%20%2F%2F%20%E8%AE%BE%E7%BD%AE%E5%A1%AB%E5%85%85%E9%A2%9C%E8%89%B2%5Cn%20%20%20%20cxt.fillRect(50%2C%2050%2C%20200%2C%20200)%20%2F%2F%20%E5%A1%AB%E5%85%85%E7%9F%A9%E5%BD%A2%5Cn%20%20%20%20cxt.clearRect(60%2C%2060%2C%20180%2C%2090)%20%2F%2F%20%E6%B8%85%E7%A9%BA%E7%9F%A9%E5%BD%A2%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_016<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_016'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'pink'</span> <span class="token comment">// 设置填充颜色</span>
    cxt<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token comment">// 填充矩形</span>
    cxt<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">180</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span> <span class="token comment">// 清空矩形</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo><div class="custom-container info">
<p class="custom-container-title">Tips</p>
<p>canvas 画布元素是矩形，所以可以通过下面的代码把整个<code v-pre>画布清空</code>掉。</p>
<p>要清空的区域：从画布<code v-pre>左上角</code>开始，直到画布的<code v-pre>宽</code>和画布的<code v-pre>高</code>为止。</p>
<div class="language-JavaScript ext-JavaScript line-numbers-mode"><pre v-pre class="language-JavaScript"><code>cxt.clearRect(0, 0, cnv.width, cnv.height)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div>
<h3 id="多边形" tabindex="-1"><a class="header-anchor" href="#多边形" aria-hidden="true">#</a> 多边形</h3>
<p>Canvas 要画多边形，需要使用 <code v-pre>moveTo()</code> 、 <code v-pre>lineTo()</code> 和 <code v-pre>closePath()</code> 。</p>
<h3 id="三角形" tabindex="-1"><a class="header-anchor" href="#三角形" aria-hidden="true">#</a> 三角形</h3>
<p>虽然三角形是常见图形，但 canvas 并<code v-pre>没有</code>提供类似 <code v-pre>rect()</code> 的方法来绘制<code v-pre>三角形</code>。</p>
<p>需要确定三角形<code v-pre>3个点</code>的<code v-pre>坐标位置</code>，然后使用 <code v-pre>stroke()</code> 或者 <code v-pre>fill()</code> 方法生成三角形。</p>

<CodeDemo id="code-demo-5e7d25f6" type="vue" code="%7B%22vue%22%3A%22%3Ctemplate%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_017%5C%22%20width%3D%5C%22300%5C%22%20height%3D%5C%22300%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20%20%20const%20cnv%20%3D%20document.getElementById('canvas_017')%5Cn%20%20%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%20%20%20%20cxt.moveTo(50%2C%2050)%5Cn%20%20%20%20cxt.lineTo(200%2C%2050)%5Cn%20%20%20%20cxt.lineTo(200%2C%20200)%5Cn%20%20%20%20cxt.closePath()%5Cn%20%20%20%20%2F%2F%20cxt.lineTo(50%2C%2050)%20%2F%2F%20%E9%97%AD%E5%90%88%5Cn%20%20%20%20cxt.stroke()%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_017<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_017'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// cxt.lineTo(50, 50) // 闭合</span>
    cxt<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo><div class="custom-container info">
<p class="custom-container-title">Tips</p>
<p>默认情况下<code v-pre>不会自动</code>从最后一个<code v-pre>点</code>连接到<code v-pre>起点</code>。最后一步需要设置一下 <code v-pre>cxt.lineTo(50, 50)</code> ，让它与 <code v-pre>cxt.moveTo(50, 50)</code> 一样。这样可以让路径<code v-pre>回到起点</code>，形成一个<code v-pre>闭合</code>效果。</p>
<p>但这样做其实是有点问题的，而且也比较麻烦，要记住起始点坐标。</p>
</div>
<h4 id="linewidth-和-linejoin" tabindex="-1"><a class="header-anchor" href="#linewidth-和-linejoin" aria-hidden="true">#</a> lineWidth 和 lineJoin</h4>
<p>上面的闭合操作，如果遇到设置了 <code v-pre>lineWidth</code> 或者 <code v-pre>lineJoin</code> 就会有问题：当线段变粗后，起始点和结束点的链接处，拐角就出现<code v-pre>不正常</code>现象。</p>
<p>如果需要真正闭合，可以使用 <code v-pre>closePath()</code> 方法自动将<code v-pre>终点</code>和<code v-pre>起始点</code>连接起来，此时看上去就正常多了。比如：</p>

<CodeDemo id="code-demo-0dfca81d" type="vue" code="%7B%22vue%22%3A%22%3Ctemplate%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_018%5C%22%20width%3D%5C%22300%5C%22%20height%3D%5C%22300%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_019%5C%22%20width%3D%5C%22300%5C%22%20height%3D%5C%22300%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_020%5C%22%20width%3D%5C%22300%5C%22%20height%3D%5C%22300%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20%20%20const%20cnv%20%3D%20document.getElementById('canvas_018')%5Cn%20%20%20%20const%20cnv1%20%3D%20document.getElementById('canvas_019')%5Cn%20%20%20%20const%20cnv2%20%3D%20document.getElementById('canvas_020')%5Cn%20%20%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%20%20%20%20const%20cxt1%20%3D%20cnv1.getContext('2d')%5Cn%20%20%20%20const%20cxt2%20%3D%20cnv2.getContext('2d')%5Cn%20%20%20%20cxt.moveTo(50%2C%2050)%5Cn%20%20%20%20cxt.lineTo(200%2C%2050)%5Cn%20%20%20%20cxt.lineTo(200%2C%20200)%5Cn%20%20%20%20cxt.lineTo(50%2C%2050)%20%2F%2F%20%E9%97%AD%E5%90%88%5Cn%20%20%20%20cxt.lineWidth%20%3D%2020%5Cn%20%20%20%20cxt.stroke()%5Cn%5Cn%20%20%20%20cxt1.moveTo(50%2C%2050)%5Cn%20%20%20%20cxt1.lineTo(200%2C%2050)%5Cn%20%20%20%20cxt1.lineTo(200%2C%20200)%5Cn%20%20%20%20cxt1.lineTo(50%2C%2050)%20%2F%2F%20%E9%97%AD%E5%90%88%5Cn%20%20%20%20cxt1.lineJoin%20%3D%20'round'%20%2F%2F%20%E7%BA%BF%E6%9D%A1%E8%BF%9E%E6%8E%A5%E7%9A%84%E6%A0%B7%E5%BC%8F%E3%80%82miter%3A%20%E9%BB%98%E8%AE%A4%3B%20bevel%3A%20%E6%96%9C%E9%9D%A2%3B%20round%3A%20%E5%9C%86%E8%A7%92%5Cn%20%20%20%20cxt1.lineWidth%20%3D%2020%5Cn%20%20%20%20cxt1.stroke()%5Cn%5Cn%20%20%20%20cxt2.moveTo(50%2C%2050)%5Cn%20%20%20%20cxt2.lineTo(200%2C%2050)%5Cn%20%20%20%20cxt2.lineTo(200%2C%20200)%5Cn%20%20%20%20cxt2.lineJoin%20%3D%20'round'%20%2F%2F%20%E7%BA%BF%E6%9D%A1%E8%BF%9E%E6%8E%A5%E7%9A%84%E6%A0%B7%E5%BC%8F%E3%80%82miter%3A%20%E9%BB%98%E8%AE%A4%3B%20bevel%3A%20%E6%96%9C%E9%9D%A2%3B%20round%3A%20%E5%9C%86%E8%A7%92%5Cn%20%20%20%20cxt2.lineWidth%20%3D%2020%5Cn%20%20%20%20cxt2.closePath()%5Cn%20%20%20%20cxt2.stroke()%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_018<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_019<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_020<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_018'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cnv1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_019'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cnv2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_020'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cxt1 <span class="token operator">=</span> cnv1<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cxt2 <span class="token operator">=</span> cnv2<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span> <span class="token comment">// 闭合</span>
    cxt<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">20</span>
    cxt<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    cxt1<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
    cxt1<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
    cxt1<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>
    cxt1<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span> <span class="token comment">// 闭合</span>
    cxt1<span class="token punctuation">.</span>lineJoin <span class="token operator">=</span> <span class="token string">'round'</span> <span class="token comment">// 线条连接的样式。miter: 默认; bevel: 斜面; round: 圆角</span>
    cxt1<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">20</span>
    cxt1<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    cxt2<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
    cxt2<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
    cxt2<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>
    cxt2<span class="token punctuation">.</span>lineJoin <span class="token operator">=</span> <span class="token string">'round'</span> <span class="token comment">// 线条连接的样式。miter: 默认; bevel: 斜面; round: 圆角</span>
    cxt2<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">20</span>
    cxt2<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    cxt2<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo><h3 id="菱形" tabindex="-1"><a class="header-anchor" href="#菱形" aria-hidden="true">#</a> 菱形</h3>

<CodeDemo id="code-demo-0bf17e68" type="vue" code="%7B%22vue%22%3A%22%3Ctemplate%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_021%5C%22%20width%3D%5C%22300%5C%22%20height%3D%5C%22300%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20%20%20const%20cnv%20%3D%20document.getElementById('canvas_021')%5Cn%20%20%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%20%20%20%20cxt.moveTo(150%2C%2050)%5Cn%20%20%20%20cxt.lineTo(250%2C%20100)%5Cn%20%20%20%20cxt.lineTo(150%2C%20150)%5Cn%20%20%20%20cxt.lineTo(50%2C%20100)%5Cn%20%20%20%20cxt.closePath()%5Cn%20%20%20%20cxt.stroke()%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_021<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_021'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo><h3 id="圆形" tabindex="-1"><a class="header-anchor" href="#圆形" aria-hidden="true">#</a> 圆形</h3>
<p>绘制圆形的方法是 <code v-pre>arc(x, y, r, sAngle, eAngle，counterclockwise)</code>。</p>
<ul>
<li>x 和 y: <code v-pre>圆心</code>坐标</li>
<li>r: 半径</li>
<li>sAngle: 开始角度</li>
<li>eAngle: 结束角度</li>
<li>counterclockwise: 绘制方向（true: 逆时针; false: 顺时针），默认 <code v-pre>false</code></li>
</ul>
<p>开始角度和结束角度，都是以<code v-pre>弧度</code>为<code v-pre>单位</code>。例如 <code v-pre>180°</code>就写成 <code v-pre>Math.PI</code> ，<code v-pre>360°</code>写成 <code v-pre>Math.PI * 2</code> ，以此类推。</p>
<blockquote>
<p>在实际开发中，为了更容易看懂弧度的<code v-pre>数值</code>，<code v-pre>1°</code>应该写成 <code v-pre>Math.PI / 180</code></p>
<p>100°: <code v-pre>100 * Math.PI / 180</code></p>
<p>110°: <code v-pre>110 * Math.PI / 180</code></p>
<p>241°: <code v-pre>241 * Math.PI / 180</code></p>
<p>注意：绘制圆形之前，<code v-pre>必须</code>先调用 <code v-pre>beginPath()</code> 方法！！！在绘制<code v-pre>完成</code>之后，还需要调用 <code v-pre>closePath()</code> 方法！！！</p>
</blockquote>

<CodeDemo id="code-demo-87d25b12" type="vue" code="%7B%22vue%22%3A%22%3Ctemplate%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_022%5C%22%20width%3D%5C%22300%5C%22%20height%3D%5C%22300%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20%20%20const%20cnv%20%3D%20document.getElementById('canvas_022')%5Cn%20%20%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%20%20%20%20cxt.beginPath()%5Cn%20%20%20%20cxt.fillStyle%20%3D%20'pink'%5Cn%20%20%20%20cxt.arc(150%2C%20150%2C%2080%2C%200%2C%20360%20*%20Math.PI%20%2F%20180)%5Cn%20%20%20%20cxt.closePath()%5Cn%20%20%20%20cxt.stroke()%5Cn%20%20%20%20cxt.fill()%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_022<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_022'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'pink'</span>
    cxt<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">360</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo><h3 id="半圆" tabindex="-1"><a class="header-anchor" href="#半圆" aria-hidden="true">#</a> 半圆</h3>
<p>如果使用 <code v-pre>arc()</code> 方法画圆时，没做到刚好绕完一周（360°）就直接闭合路径，就会出现<code v-pre>半圆</code>的状态。</p>

<CodeDemo id="code-demo-dc7b5ab0" type="vue" code="%7B%22vue%22%3A%22%3Ctemplate%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_023%5C%22%20width%3D%5C%22300%5C%22%20height%3D%5C%22300%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20%20%20const%20cnv%20%3D%20document.getElementById('canvas_023')%5Cn%20%20%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%20%20%20%20cxt.beginPath()%5Cn%20%20%20%20cxt.arc(150%2C%20150%2C%2080%2C%200%2C%20180%20*%20Math.PI%20%2F%20180)%20%2F%2F%20%E9%A1%BA%E6%97%B6%E9%92%88%5Cn%20%20%20%20cxt.closePath()%5Cn%20%20%20%20cxt.stroke()%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_023<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_023'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">180</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">)</span> <span class="token comment">// 顺时针</span>
    cxt<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo><p>cxt.arc 最后一个参数没传，默认是 <code v-pre>false</code> ，所以是<code v-pre>顺时针</code>绘制。如果希望半圆的弧面在<code v-pre>上方</code>，可以将 cxt.arc 最后一个参数设置成 <code v-pre>true</code>。</p>

<CodeDemo id="code-demo-aea570c8" type="vue" code="%7B%22vue%22%3A%22%3Ctemplate%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_024%5C%22%20width%3D%5C%22300%5C%22%20height%3D%5C%22300%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20%20%20const%20cnv%20%3D%20document.getElementById('canvas_024')%5Cn%20%20%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%20%20%20%20cxt.beginPath()%5Cn%20%20%20%20cxt.arc(150%2C%20150%2C%2080%2C%200%2C%20180%20*%20Math.PI%20%2F%20180%2C%20true)%5Cn%20%20%20%20cxt.closePath()%5Cn%20%20%20%20cxt.stroke()%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_024<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_024'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">180</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo><h3 id="弧线" tabindex="-1"><a class="header-anchor" href="#弧线" aria-hidden="true">#</a> 弧线</h3>
<p>使用 arc() 方法画半圆时，如果最后<code v-pre>不调用closePath()</code>方法，就不会出现闭合路径。也就是说，那是一条<code v-pre>弧线</code>。</p>
<p>在 canvas 中，画弧线有2中方法：<code v-pre>arc()</code> 和 <code v-pre>arcTo()</code>。</p>
<h4 id="arc" tabindex="-1"><a class="header-anchor" href="#arc" aria-hidden="true">#</a> arc()</h4>
<p>如果想画一条 <code v-pre>0° ~ 30°</code> 的弧线，可以这样写</p>

<CodeDemo id="code-demo-4691cbbc" type="vue" code="%7B%22vue%22%3A%22%3Ctemplate%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_025%5C%22%20width%3D%5C%22300%5C%22%20height%3D%5C%22300%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20%20%20const%20cnv%20%3D%20document.getElementById('canvas_025')%5Cn%20%20%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%20%20%20%20cxt.beginPath()%5Cn%20%20%20%20cxt.arc(150%2C%20150%2C%2080%2C%200%2C%2030%20*%20Math.PI%20%2F%20180)%5Cn%20%20%20%20cxt.stroke()%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_025<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_025'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">30</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">180</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo><h4 id="arcto" tabindex="-1"><a class="header-anchor" href="#arcto" aria-hidden="true">#</a> arcTo()</h4>
<p><code v-pre>arcTo(cx, cy, x2, y2, radius)</code></p>
<ul>
<li>cx: 两切线交点的横坐标</li>
<li>cy: 两切线交点的纵坐标</li>
<li>x2: 结束点的横坐标</li>
<li>y2: 结束点的纵坐标</li>
<li>radius: 半径</li>
</ul>
<p>其中，<code v-pre>(cx, cy)</code> 也叫<code v-pre>控制点</code>，<code v-pre>(x2, y2)</code> 也叫<code v-pre>结束点</code>。</p>
<div class="custom-container info">
<p class="custom-container-title">Tips</p>
<Badge text="思考"/><p>是不是有点奇怪，为什么没有 x1 和 y1 ？</p>
<Badge text="猜测" type="warning"/> <p><code v-pre>(x1, y1)</code> 是<code v-pre>开始点</code>，通常是由 <code v-pre>moveTo()</code> 或者 <code v-pre>lineTo()</code> 提供。</p>
<p>arcTo() 方法利用 <code v-pre>开始点</code>、<code v-pre>控制点</code>和<code v-pre>结束点</code>形成的<code v-pre>夹角</code>，绘制一段与夹角的两边<code v-pre>相切</code>并且<code v-pre>半径</code>为 <code v-pre>radius</code> 的圆弧。</p>
</div>

<CodeDemo id="code-demo-7a1cffc3" type="vue" code="%7B%22vue%22%3A%22%3Ctemplate%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_026%5C%22%20width%3D%5C%22300%5C%22%20height%3D%5C%22300%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20%20%20const%20cnv%20%3D%20document.getElementById('canvas_026')%5Cn%20%20%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%20%20%20%20cxt.moveTo(40%2C%2040)%5Cn%20%20%20%20cxt.arcTo(120%2C%2040%2C%20120%2C%20120%2C%2080)%5Cn%20%20%20%20cxt.stroke()%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_026<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_026'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">arcTo</span><span class="token punctuation">(</span><span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo><h2 id="基础样式" tabindex="-1"><a class="header-anchor" href="#基础样式" aria-hidden="true">#</a> 基础样式</h2>
<h3 id="stroke-描边" tabindex="-1"><a class="header-anchor" href="#stroke-描边" aria-hidden="true">#</a> stroke() 描边</h3>
<p>前面的案例中，其实已经知道使用 <code v-pre>stroke()</code> 方法进行描边了。这里就不再赘述。</p>
<h3 id="linewidth-线条宽度" tabindex="-1"><a class="header-anchor" href="#linewidth-线条宽度" aria-hidden="true">#</a> lineWidth 线条宽度</h3>
<p>lineWidth 默认值是 <code v-pre>1</code> ，默认单位是 <code v-pre>px</code>。</p>

<CodeDemo id="code-demo-abfe7480" type="vue" code="%7B%22vue%22%3A%22%3Ctemplate%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_027%5C%22%20width%3D%5C%22300%5C%22%20height%3D%5C%22300%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20%20%20const%20cnv%20%3D%20document.getElementById('canvas_027')%5Cn%20%20%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%20%20%20%20%2F%2F%20%E7%BA%BF%E5%AE%BD%2010%5Cn%20%20%20%20cxt.beginPath()%5Cn%20%20%20%20cxt.moveTo(50%2C%2050)%5Cn%20%20%20%20cxt.lineTo(250%2C%2050)%5Cn%20%20%20%20cxt.lineWidth%20%3D%2010%20%2F%2F%20%E8%AE%BE%E7%BD%AE%E7%BA%BF%E5%AE%BD%5Cn%20%20%20%20cxt.stroke()%5Cn%20%20%20%20%2F%2F%20%E7%BA%BF%E5%AE%BD%2020%5Cn%20%20%20%20cxt.beginPath()%5Cn%20%20%20%20cxt.moveTo(50%2C%20150)%5Cn%20%20%20%20cxt.lineTo(250%2C%20150)%5Cn%20%20%20%20cxt.lineWidth%20%3D%2020%20%2F%2F%20%E8%AE%BE%E7%BD%AE%E7%BA%BF%E5%AE%BD%5Cn%20%20%20%20cxt.stroke()%5Cn%20%20%20%20%2F%2F%20%E7%BA%BF%E5%AE%BD%2030%5Cn%20%20%20%20cxt.beginPath()%5Cn%20%20%20%20cxt.moveTo(50%2C%20250)%5Cn%20%20%20%20cxt.lineTo(250%2C%20250)%5Cn%20%20%20%20cxt.lineWidth%20%3D%2030%20%2F%2F%20%E8%AE%BE%E7%BD%AE%E7%BA%BF%E5%AE%BD%5Cn%20%20%20%20cxt.stroke()%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_027<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_027'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
    <span class="token comment">// 线宽 10</span>
    cxt<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">10</span> <span class="token comment">// 设置线宽</span>
    cxt<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// 线宽 20</span>
    cxt<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">20</span> <span class="token comment">// 设置线宽</span>
    cxt<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// 线宽 30</span>
    cxt<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">30</span> <span class="token comment">// 设置线宽</span>
    cxt<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo><h3 id="strokestyle-线条颜色" tabindex="-1"><a class="header-anchor" href="#strokestyle-线条颜色" aria-hidden="true">#</a> strokeStyle 线条颜色</h3>

<CodeDemo id="code-demo-5a8b0304" type="vue" code="%7B%22vue%22%3A%22%3Ctemplate%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_028%5C%22%20width%3D%5C%22300%5C%22%20height%3D%5C%22300%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20%20%20const%20cnv%20%3D%20document.getElementById('canvas_028')%5Cn%20%20%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%20%20%20%20cxt.moveTo(50%2C%2050)%5Cn%20%20%20%20cxt.lineTo(250%2C%2050)%5Cn%20%20%20%20cxt.lineWidth%20%3D%2020%5Cn%20%20%20%20cxt.strokeStyle%20%3D%20'pink'%20%2F%2F%20%E8%AE%BE%E7%BD%AE%E9%A2%9C%E8%89%B2%5Cn%20%20%20%20cxt.stroke()%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_028<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_028'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">20</span>
    cxt<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'pink'</span> <span class="token comment">// 设置颜色</span>
    cxt<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo><h3 id="linecap-线帽" tabindex="-1"><a class="header-anchor" href="#linecap-线帽" aria-hidden="true">#</a> lineCap 线帽</h3>
<p>线帽指的是线段的<code v-pre>开始</code>和<code v-pre>结尾处</code>的样式，使用 <code v-pre>lineCap</code> 可以设置</p>
<p>属性值包括：</p>
<ul>
<li>butt: 默认值，无线帽</li>
<li>square: 方形线帽</li>
<li>round: 圆形线帽</li>
</ul>

<CodeDemo id="code-demo-c54e5baa" type="vue" code="%7B%22vue%22%3A%22%3Ctemplate%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_029%5C%22%20width%3D%5C%22300%5C%22%20height%3D%5C%22300%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20%20%20const%20cnv%20%3D%20document.getElementById('canvas_029')%5Cn%20%20%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%20%20%20%20%2F%2F%20%E8%AE%BE%E7%BD%AE%E7%BA%BF%E5%AE%BD%EF%BC%8C%E6%96%B9%E4%BE%BF%E6%BC%94%E7%A4%BA%5Cn%20%20%20%20cxt.lineWidth%20%3D%2016%5Cn%20%20%20%20%2F%2F%20%E9%BB%98%E8%AE%A4%E7%BA%BF%E5%B8%BD%20butt%5Cn%20%20%20%20cxt.beginPath()%5Cn%20%20%20%20cxt.moveTo(50%2C%2060)%5Cn%20%20%20%20cxt.lineTo(250%2C%2060)%5Cn%20%20%20%20cxt.stroke()%5Cn%20%20%20%20%2F%2F%20%E6%96%B9%E5%BD%A2%E7%BA%BF%E5%B8%BD%20square%5Cn%20%20%20%20cxt.beginPath()%5Cn%20%20%20%20cxt.lineCap%20%3D%20'square'%5Cn%20%20%20%20cxt.moveTo(50%2C%20150)%5Cn%20%20%20%20cxt.lineTo(250%2C%20150)%5Cn%20%20%20%20cxt.stroke()%5Cn%20%20%20%20%2F%2F%20%E5%9C%86%E5%BD%A2%E7%BA%BF%E5%B8%BD%20round%5Cn%20%20%20%20cxt.beginPath()%5Cn%20%20%20%20cxt.lineCap%20%3D%20'round'%5Cn%20%20%20%20cxt.moveTo(50%2C%20250)%5Cn%20%20%20%20cxt.lineTo(250%2C%20250)%5Cn%20%20%20%20cxt.stroke()%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_029<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_029'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
    <span class="token comment">// 设置线宽，方便演示</span>
    cxt<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">16</span>
    <span class="token comment">// 默认线帽 butt</span>
    cxt<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// 方形线帽 square</span>
    cxt<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span>lineCap <span class="token operator">=</span> <span class="token string">'square'</span>
    cxt<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// 圆形线帽 round</span>
    cxt<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span>lineCap <span class="token operator">=</span> <span class="token string">'round'</span>
    cxt<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo><p>使用 <code v-pre>square</code> 和 <code v-pre>round</code> 的话，会使线条变得<code v-pre>稍微长一点点</code>，这是给线条<code v-pre>增加线帽</code>的部分，日常开发中<code v-pre>需要注意</code>。</p>
<p>线帽只对线条的<code v-pre>开始</code>和<code v-pre>结尾</code>处产生作用，对拐角不会产生任何作用。</p>
<h3 id="linejoin-拐角样式" tabindex="-1"><a class="header-anchor" href="#linejoin-拐角样式" aria-hidden="true">#</a> lineJoin 拐角样式</h3>
<p>属性值包括：</p>
<ul>
<li>miter: 默认值，尖角</li>
<li>round: 圆角</li>
<li>bevel: 斜角</li>
</ul>

<CodeDemo id="code-demo-a22a1118" type="vue" code="%7B%22vue%22%3A%22%3Ctemplate%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_030%5C%22%20width%3D%5C%22300%5C%22%20height%3D%5C%22300%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20%20%20const%20cnv%20%3D%20document.getElementById('canvas_030')%5Cn%20%20%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%20%20%20%20cxt.lineWidth%20%3D%2020%5Cn%20%20%20%20%2F%2F%20%E9%BB%98%E8%AE%A4%EF%BC%8C%E5%B0%96%E8%A7%92%5Cn%20%20%20%20cxt.moveTo(50%2C%2040)%5Cn%20%20%20%20cxt.lineTo(200%2C%2040)%5Cn%20%20%20%20cxt.lineTo(200%2C%2090)%5Cn%20%20%20%20cxt.stroke()%5Cn%20%20%20%20%2F%2F%20%E6%96%9C%E8%A7%92%20bevel%5Cn%20%20%20%20cxt.beginPath()%5Cn%20%20%20%20cxt.moveTo(50%2C%20140)%5Cn%20%20%20%20cxt.lineTo(200%2C%20140)%5Cn%20%20%20%20cxt.lineTo(200%2C%20190)%5Cn%20%20%20%20cxt.lineJoin%20%3D%20'bevel'%5Cn%20%20%20%20cxt.stroke()%5Cn%20%20%20%20%2F%2F%20%E5%9C%86%E8%A7%92%20round%5Cn%20%20%20%20cxt.beginPath()%5Cn%20%20%20%20cxt.moveTo(50%2C%20240)%5Cn%20%20%20%20cxt.lineTo(200%2C%20240)%5Cn%20%20%20%20cxt.lineTo(200%2C%20290)%5Cn%20%20%20%20cxt.lineJoin%20%3D%20'round'%5Cn%20%20%20%20cxt.stroke()%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_030<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_030'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">20</span>
    <span class="token comment">// 默认，尖角</span>
    cxt<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// 斜角 bevel</span>
    cxt<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">140</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">140</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">190</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span>lineJoin <span class="token operator">=</span> <span class="token string">'bevel'</span>
    cxt<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// 圆角 round</span>
    cxt<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">240</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">240</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">290</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span>lineJoin <span class="token operator">=</span> <span class="token string">'round'</span>
    cxt<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo><h3 id="setlinedash-虚线" tabindex="-1"><a class="header-anchor" href="#setlinedash-虚线" aria-hidden="true">#</a> setLineDash() 虚线</h3>
<p>虚线分3种情况:</p>
<ul>
<li>只传1个值</li>
<li>有2个值</li>
<li>有3个以上的值</li>
</ul>

<CodeDemo id="code-demo-22131e63" type="vue" code="%7B%22vue%22%3A%22%3Ctemplate%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_031%5C%22%20width%3D%5C%22300%5C%22%20height%3D%5C%22300%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20const%20cnv%20%3D%20document.getElementById('canvas_031')%5Cn%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%20%20cxt.lineWidth%20%3D%2020%5Cn%20%20cxt.strokeStyle%20%3D%20'pink'%5Cn%5Cn%20%20cxt.moveTo(50%2C%2050)%5Cn%20%20cxt.lineTo(200%2C%2050)%5Cn%20%20cxt.setLineDash(%5B10%5D)%20%2F%2F%20%E5%8F%AA%E4%BC%A01%E4%B8%AA%E5%8F%82%E6%95%B0%EF%BC%8C%E5%AE%9E%E7%BA%BF%E4%B8%8E%E7%A9%BA%E7%99%BD%E9%83%BD%E6%98%AF%2010px%5Cn%5Cn%20%20cxt.stroke()%5Cn%20%20cxt.beginPath()%5Cn%20%20cxt.moveTo(50%2C%20100)%5Cn%20%20cxt.lineTo(200%2C%20100)%5Cn%20%20cxt.setLineDash(%5B10%2C%2020%5D)%20%2F%2F%202%E4%B8%AA%E5%8F%82%E6%95%B0%EF%BC%8C%E6%AD%A4%E6%97%B6%EF%BC%8C%E5%AE%9E%E7%BA%BF%E6%98%AF%2010px%2C%20%E7%A9%BA%E7%99%BD%2020px%5Cn%5Cn%20%20cxt.stroke()%5Cn%20%20cxt.beginPath()%5Cn%20%20cxt.moveTo(50%2C%20150)%5Cn%20%20cxt.lineTo(200%2C%20150)%5Cn%20%20cxt.setLineDash(%5B10%2C%2020%2C%205%5D)%20%2F%2F%20%E4%BC%A03%E4%B8%AA%E4%BB%A5%E4%B8%8A%E7%9A%84%E5%8F%82%E6%95%B0%EF%BC%8C%E6%AD%A4%E4%BE%8B%EF%BC%9A10px%E5%AE%9E%E7%BA%BF%EF%BC%8C20px%E7%A9%BA%E7%99%BD%EF%BC%8C5px%E5%AE%9E%E7%BA%BF%EF%BC%8C10px%E7%A9%BA%E7%99%BD%EF%BC%8C20px%E5%AE%9E%E7%BA%BF%EF%BC%8C5px%E7%A9%BA%E7%99%BD%20%E2%80%A6%E2%80%A6%5Cn%20%20cxt.stroke()%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_031<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_031'</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
  cxt<span class="token punctuation">.</span>lineWidth <span class="token operator">=</span> <span class="token number">20</span>
  cxt<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'pink'</span>

  cxt<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
  cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
  cxt<span class="token punctuation">.</span><span class="token function">setLineDash</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 只传1个参数，实线与空白都是 10px</span>

  cxt<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  cxt<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  cxt<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
  cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
  cxt<span class="token punctuation">.</span><span class="token function">setLineDash</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 2个参数，此时，实线是 10px, 空白 20px</span>

  cxt<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  cxt<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  cxt<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span>
  cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span>
  cxt<span class="token punctuation">.</span><span class="token function">setLineDash</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 传3个以上的参数，此例：10px实线，20px空白，5px实线，10px空白，20px实线，5px空白 ……</span>
  cxt<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo><p>此外:</p>
<p><code v-pre>cxt.getLineDash()</code> 获取虚线不重复的距离；</p>
<p><code v-pre>cxt.lineDashOffset</code> 设置虚线的偏移位。</p>
<h3 id="fill-填充" tabindex="-1"><a class="header-anchor" href="#fill-填充" aria-hidden="true">#</a> fill 填充</h3>

<CodeDemo id="code-demo-09719ec0" type="vue" code="%7B%22vue%22%3A%22%3Ctemplate%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_032%5C%22%20width%3D%5C%22300%5C%22%20height%3D%5C%22200%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20%20%20const%20cnv%20%3D%20document.getElementById('canvas_032')%5Cn%20%20%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%20%20%20%20cxt.fillStyle%20%3D%20'pink'%5Cn%20%20%20%20cxt.rect(50%2C%2050%2C%20200%2C%20100)%5Cn%20%20%20%20cxt.fill()%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_032<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>200<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_032'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'pink'</span>
    cxt<span class="token punctuation">.</span><span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo><p>可以使用 fillStyle 设置填充颜色，默认是<code v-pre>黑色</code>。</p>
<h4 id="非零环绕填充" tabindex="-1"><a class="header-anchor" href="#非零环绕填充" aria-hidden="true">#</a> 非零环绕填充</h4>
<p>在使用 fill() 方法填充时，需要注意一个规则：非零环绕填充。</p>
<p>在使用 moveTo 和 lineTo 描述图形时，如果是按<code v-pre>顺时针绘制</code>，计数器会<code v-pre>加1</code>；如果是<code v-pre>逆时针</code>，计数器会<code v-pre>减1</code>。</p>
<p>当图形所处的位置，计数器的<code v-pre>结果为0</code>时，它就<code v-pre>不会</code>被<code v-pre>填充</code>。</p>

<CodeDemo id="code-demo-2483ed49" type="vue" code="%7B%22vue%22%3A%22%3Ctemplate%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_033%5C%22%20width%3D%5C%22300%5C%22%20height%3D%5C%22300%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20%20%20const%20cnv%20%3D%20document.getElementById('canvas_033')%5Cn%20%20%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%5Cn%20%20%20%20%2F%2F%20%E5%A4%96%E5%B1%82%E7%9F%A9%E5%BD%A2%5Cn%20%20%20%20cxt.moveTo(50%2C%2050)%5Cn%20%20%20%20cxt.lineTo(250%2C%2050)%5Cn%20%20%20%20cxt.lineTo(250%2C%20250)%5Cn%20%20%20%20cxt.lineTo(50%2C%20250)%5Cn%20%20%20%20cxt.closePath()%5Cn%5Cn%20%20%20%20%2F%2F%20%E5%86%85%E5%B1%82%E7%9F%A9%E5%BD%A2%5Cn%20%20%20%20cxt.moveTo(200%2C%20100)%5Cn%20%20%20%20cxt.lineTo(100%2C%20100)%5Cn%20%20%20%20cxt.lineTo(100%2C%20200)%5Cn%20%20%20%20cxt.lineTo(200%2C%20200)%5Cn%20%20%20%20cxt.closePath()%5Cn%20%20%20%20cxt.fill()%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_033<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_033'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>

    <span class="token comment">// 外层矩形</span>
    cxt<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// 内层矩形</span>
    cxt<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">closePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo><p>请看看上面的代码，画了<code v-pre>2个矩形</code>，它们都没有用 <code v-pre>beginPath()</code> 方法开辟新路径。</p>
<p>内层矩形是<code v-pre>逆时针绘制</code>的，所以内层的值是 <code v-pre>-1</code> 。外层矩形是<code v-pre>顺时针绘制</code>，所以经过外层时值 <code v-pre>+1</code>，最终内层的值为 <code v-pre>0</code> ，所以<code v-pre>不会被填充</code>。</p>
<h3 id="文本" tabindex="-1"><a class="header-anchor" href="#文本" aria-hidden="true">#</a> 文本</h3>
<h4 id="font-样式" tabindex="-1"><a class="header-anchor" href="#font-样式" aria-hidden="true">#</a> font 样式</h4>
<p>和 <code v-pre>CSS</code> 设置 <code v-pre>font</code> 差不多，Canvas 也可以通过 <code v-pre>font</code> 设置<code v-pre>样式</code>。</p>
<p>语法：<code v-pre>cxt.font = 'font-style font-variant font-weight font-size/line-height font-family'</code></p>
<p>如果需要设置字号 <code v-pre>font-size</code>，需要同事设置 <code v-pre>font-family</code>。</p>
<p><code v-pre>cxt.font = '30px 宋体'</code></p>
<h4 id="stroketext-描边" tabindex="-1"><a class="header-anchor" href="#stroketext-描边" aria-hidden="true">#</a> strokeText() 描边</h4>
<p>语法：<code v-pre>strokeText(text, x, y, maxWidth)</code></p>
<ul>
<li>text: <code v-pre>字符串</code>，要绘制的内容</li>
<li>x: <code v-pre>横坐标</code>，文本左边要对齐的坐标（默认<code v-pre>左对齐</code>）</li>
<li>y: <code v-pre>纵坐标</code>，文本底边要对齐的坐标</li>
<li>maxWidth: 可选参数，表示文本渲染的<code v-pre>最大宽度（px</code>），如果文本<code v-pre>超出</code> maxWidth 设置的值，文本会被<code v-pre>压缩</code>。</li>
</ul>

<CodeDemo id="code-demo-3a285e88" type="vue" code="%7B%22vue%22%3A%22%3Ctemplate%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_034%5C%22%20width%3D%5C%22300%5C%22%20height%3D%5C%22300%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20%20%20const%20cnv%20%3D%20document.getElementById('canvas_034')%5Cn%20%20%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%20%20%20%20cxt.font%20%3D%20'60px%20Arial'%20%2F%2F%20%E5%B0%86%E5%AD%97%E5%8F%B7%E8%AE%BE%E7%BD%AE%E6%88%90%2060px%EF%BC%8C%E6%96%B9%E4%BE%BF%E8%A7%82%E5%AF%9F%5Cn%20%20%20%20cxt.strokeText('%E9%9B%B7%E7%8C%B4'%2C%2030%2C%2090)%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_034<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_034'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token string">'60px Arial'</span> <span class="token comment">// 将字号设置成 60px，方便观察</span>
    cxt<span class="token punctuation">.</span><span class="token function">strokeText</span><span class="token punctuation">(</span><span class="token string">'雷猴'</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo><h5 id="strokestyle-设置描边颜色" tabindex="-1"><a class="header-anchor" href="#strokestyle-设置描边颜色" aria-hidden="true">#</a> strokeStyle 设置描边颜色</h5>

<CodeDemo id="code-demo-24933c6c" type="vue" code="%7B%22vue%22%3A%22%3Ctemplate%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_035%5C%22%20width%3D%5C%22300%5C%22%20height%3D%5C%22300%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20%20%20const%20cnv%20%3D%20document.getElementById('canvas_035')%5Cn%20%20%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%20%20%20%20cxt.font%20%3D%20'60px%20Arial'%20%2F%2F%20%E5%B0%86%E5%AD%97%E5%8F%B7%E8%AE%BE%E7%BD%AE%E6%88%90%2060px%EF%BC%8C%E6%96%B9%E4%BE%BF%E8%A7%82%E5%AF%9F%5Cn%20%20%20%20cxt.strokeStyle%20%3D%20'pink'%20%2F%2F%20%E8%AE%BE%E7%BD%AE%E6%96%87%E6%9C%AC%E6%8F%8F%E8%BE%B9%E9%A2%9C%E8%89%B2%5Cn%20%20%20%20cxt.strokeText('%E9%9B%B7%E7%8C%B4'%2C%2030%2C%2090)%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_035<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_035'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token string">'60px Arial'</span> <span class="token comment">// 将字号设置成 60px，方便观察</span>
    cxt<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'pink'</span> <span class="token comment">// 设置文本描边颜色</span>
    cxt<span class="token punctuation">.</span><span class="token function">strokeText</span><span class="token punctuation">(</span><span class="token string">'雷猴'</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo><h4 id="filltext-填充" tabindex="-1"><a class="header-anchor" href="#filltext-填充" aria-hidden="true">#</a> fillText() 填充</h4>
<p>语法：<code v-pre>fillText(text, x, y, maxWidth)</code></p>

<CodeDemo id="code-demo-41f19b5c" type="vue" code="%7B%22vue%22%3A%22%3Ctemplate%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_036%5C%22%20width%3D%5C%22300%5C%22%20height%3D%5C%22300%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20%20%20const%20cnv%20%3D%20document.getElementById('canvas_036')%5Cn%20%20%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%20%20%20%20cxt.font%20%3D%20'60px%20Arial'%5Cn%20%20%20%20cxt.fillText('%E9%9B%B7%E7%8C%B4'%2C%2030%2C%2090)%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_036<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_036'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token string">'60px Arial'</span>
    cxt<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">'雷猴'</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo><h5 id="fillstyle-设置填充颜色" tabindex="-1"><a class="header-anchor" href="#fillstyle-设置填充颜色" aria-hidden="true">#</a> fillStyle 设置填充颜色</h5>

<CodeDemo id="code-demo-f1d5dfc0" type="vue" code="%7B%22vue%22%3A%22%3Ctemplate%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_037%5C%22%20width%3D%5C%22300%5C%22%20height%3D%5C%22300%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20%20%20const%20cnv%20%3D%20document.getElementById('canvas_037')%5Cn%20%20%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%20%20%20%20cxt.font%20%3D%20'60px%20Arial'%5Cn%20%20%20%20cxt.fillStyle%20%3D%20'pink'%5Cn%20%20%20%20cxt.fillText('%E9%9B%B7%E7%8C%B4'%2C%2030%2C%2090)%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_037<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_037'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token string">'60px Arial'</span>
    cxt<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token string">'pink'</span>
    cxt<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">'雷猴'</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo><h4 id="measuretext-获取文本长度" tabindex="-1"><a class="header-anchor" href="#measuretext-获取文本长度" aria-hidden="true">#</a> measureText() 获取文本长度</h4>
<p><code v-pre>measureText().width</code> 方法可以获取文本的<code v-pre>长度</code>，单位是 <code v-pre>px</code> 。</p>

<CodeDemo id="code-demo-fcce3622" type="vue" code="%7B%22vue%22%3A%22%3Ctemplate%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_038%5C%22%20width%3D%5C%22300%5C%22%20height%3D%5C%22300%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20%20%20const%20cnv%20%3D%20document.getElementById('canvas_038')%5Cn%20%20%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%20%20%20%20let%20text%20%3D%20'%E9%9B%B7%E7%8C%B4'%5Cn%20%20%20%20cxt.font%20%3D%20'bold%2040px%20Arial'%5Cn%20%20%20%20cxt.fillText(text%2C%2040%2C%2080)%5Cn%20%20%20%20console.log(cxt.measureText(text).width)%20%2F%2F%2080%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_038<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_038'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> text <span class="token operator">=</span> <span class="token string">'雷猴'</span>
    cxt<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token string">'bold 40px Arial'</span>
    cxt<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cxt<span class="token punctuation">.</span><span class="token function">measureText</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">.</span>width<span class="token punctuation">)</span> <span class="token comment">// 80</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo><h4 id="textalign-水平对齐方式" tabindex="-1"><a class="header-anchor" href="#textalign-水平对齐方式" aria-hidden="true">#</a> textAlign 水平对齐方式</h4>
<ul>
<li>start: 默认。在指定位置的<code v-pre>横坐标开始</code>。</li>
<li>end: 在指定坐标的<code v-pre>横坐标结束</code>。</li>
<li>left: <code v-pre>左</code>对齐。</li>
<li>right: <code v-pre>右</code>对齐。</li>
<li>center: <code v-pre>居中</code>对齐。</li>
</ul>

<CodeDemo id="code-demo-36353a14" type="vue" code="%7B%22vue%22%3A%22%3Ctemplate%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_039%5C%22%20width%3D%5C%22350%5C%22%20height%3D%5C%22350%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20%20%20const%20cnv%20%3D%20document.getElementById('canvas_039')%5Cn%20%20%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%5Cn%20%20%20%20%2F%2F%20%E7%AB%96%E5%90%91%E7%9A%84%E8%BE%85%E5%8A%A9%E7%BA%BF%EF%BC%88%E5%8F%82%E8%80%83%E7%BA%BF%EF%BC%8C%E5%9C%A8%E7%94%BB%E5%B8%83%E4%B8%AD%E9%97%B4%EF%BC%89%5Cn%20%20%20%20cxt.moveTo(200%2C%200)%5Cn%20%20%20%20cxt.lineTo(200%2C%20400)%5Cn%20%20%20%20cxt.strokeStyle%20%3D%20'red'%5Cn%20%20%20%20cxt.stroke()%5Cn%5Cn%20%20%20%20cxt.font%20%3D%20'30px%20Arial'%5Cn%5Cn%20%20%20%20%2F%2F%20%E6%A8%AA%E5%9D%90%E6%A0%87%E5%BC%80%E5%A7%8B%E4%BD%8D%E5%AF%B9%E9%BD%90%5Cn%20%20%20%20cxt.textAlign%20%3D%20'start'%20%2F%2F%20%E9%BB%98%E8%AE%A4%E5%80%BC%2C%5Cn%20%20%20%20cxt.fillText('%E9%9B%B7%E7%8C%B4%20start'%2C%20200%2C%2040)%5Cn%5Cn%20%20%20%20%2F%2F%20%E6%A8%AA%E5%9D%90%E6%A0%87%E7%BB%93%E6%9D%9F%E4%BD%8D%E5%AF%B9%E9%BD%90%5Cn%20%20%20%20cxt.textAlign%20%3D%20'end'%20%2F%2F%20%E7%BB%93%E6%9D%9F%E5%AF%B9%E9%BD%90%5Cn%20%20%20%20cxt.fillText('%E9%9B%B7%E7%8C%B4%20end'%2C%20200%2C%20100)%5Cn%5Cn%20%20%20%20%2F%2F%20%E5%B7%A6%E5%AF%B9%E9%BD%90%5Cn%20%20%20%20cxt.textAlign%20%3D%20'left'%20%2F%2F%20%E5%B7%A6%E5%AF%B9%E9%BD%90%5Cn%20%20%20%20cxt.fillText('%E9%9B%B7%E7%8C%B4%20left'%2C%20200%2C%20160)%5Cn%5Cn%20%20%20%20%2F%2F%20%E5%8F%B3%E5%AF%B9%E9%BD%90%5Cn%20%20%20%20cxt.textAlign%20%3D%20'right'%20%2F%2F%20%E5%8F%B3%E5%AF%B9%E9%BD%90%5Cn%20%20%20%20cxt.fillText('%E9%9B%B7%E7%8C%B4%20right'%2C%20200%2C%20220)%5Cn%5Cn%20%20%20%20%2F%2F%20%E5%B1%85%E4%B8%AD%E5%AF%B9%E9%BD%90%5Cn%20%20%20%20cxt.textAlign%20%3D%20'center'%20%2F%2F%20%E5%8F%B3%E5%AF%B9%E9%BD%90%5Cn%20%20%20%20cxt.fillText('%E9%9B%B7%E7%8C%B4%20center'%2C%20200%2C%20280)%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_039<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>350<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>350<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_039'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>

    <span class="token comment">// 竖向的辅助线（参考线，在画布中间）</span>
    cxt<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'red'</span>
    cxt<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    cxt<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token string">'30px Arial'</span>

    <span class="token comment">// 横坐标开始位对齐</span>
    cxt<span class="token punctuation">.</span>textAlign <span class="token operator">=</span> <span class="token string">'start'</span> <span class="token comment">// 默认值,</span>
    cxt<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">'雷猴 start'</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span>

    <span class="token comment">// 横坐标结束位对齐</span>
    cxt<span class="token punctuation">.</span>textAlign <span class="token operator">=</span> <span class="token string">'end'</span> <span class="token comment">// 结束对齐</span>
    cxt<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">'雷猴 end'</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>

    <span class="token comment">// 左对齐</span>
    cxt<span class="token punctuation">.</span>textAlign <span class="token operator">=</span> <span class="token string">'left'</span> <span class="token comment">// 左对齐</span>
    cxt<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">'雷猴 left'</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">160</span><span class="token punctuation">)</span>

    <span class="token comment">// 右对齐</span>
    cxt<span class="token punctuation">.</span>textAlign <span class="token operator">=</span> <span class="token string">'right'</span> <span class="token comment">// 右对齐</span>
    cxt<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">'雷猴 right'</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">220</span><span class="token punctuation">)</span>

    <span class="token comment">// 居中对齐</span>
    cxt<span class="token punctuation">.</span>textAlign <span class="token operator">=</span> <span class="token string">'center'</span> <span class="token comment">// 右对齐</span>
    cxt<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">'雷猴 center'</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">280</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo><div class="custom-container info">
<p class="custom-container-title">Tips</p>
<p>从上面的例子看，<code v-pre>start</code> 和 <code v-pre>left</code> 的效果好像是一样的，<code v-pre>end</code> 和 <code v-pre>right</code> 也好像是一样的。</p>
<p>在大多数情况下，它们的确一样。</p>
<p>但在某些国家或者某些场合，阅读文字的习惯是 <code v-pre>从右往左</code> 时，<code v-pre>start</code> 就和 <code v-pre>right</code> 一样了，<code v-pre>end</code> 和 <code v-pre>left</code> 也一样。这是需要注意的地方。</p>
</div>
<h4 id="textbaseline-垂直对齐方式" tabindex="-1"><a class="header-anchor" href="#textbaseline-垂直对齐方式" aria-hidden="true">#</a> textBaseline 垂直对齐方式</h4>
<ul>
<li>alphabetic: 默认。文本基线是普通的<code v-pre>字母基线</code>。</li>
<li>top: 文本基线是 em 方框的<code v-pre>顶端</code>。</li>
<li>bottom: 文本基线是 em 方框的<code v-pre>底端</code>。</li>
<li>middle: 文本基线是 em 方框的<code v-pre>正中</code>。</li>
<li>hanging: 文本基线是<code v-pre>悬挂基线</code>。</li>
</ul>

<CodeDemo id="code-demo-fc6107c8" type="vue" code="%7B%22vue%22%3A%22%3Ctemplate%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_040%5C%22%20width%3D%5C%22800%5C%22%20height%3D%5C%22300%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20%20%20const%20cnv%20%3D%20document.getElementById('canvas_040')%5Cn%20%20%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%5Cn%20%20%20%20%2F%2F%20%E6%A8%AA%E5%90%91%E7%9A%84%E8%BE%85%E5%8A%A9%E7%BA%BF%EF%BC%88%E5%8F%82%E8%80%83%E7%BA%BF%EF%BC%8C%E5%9C%A8%E7%94%BB%E5%B8%83%E4%B8%AD%E9%97%B4%EF%BC%89%5Cn%20%20%20%20cxt.moveTo(0%2C%20150)%5Cn%20%20%20%20cxt.lineTo(800%2C%20150)%5Cn%20%20%20%20cxt.strokeStyle%20%3D%20'red'%5Cn%20%20%20%20cxt.stroke()%5Cn%5Cn%20%20%20%20cxt.font%20%3D%20'20px%20Arial'%5Cn%5Cn%20%20%20%20%2F%2F%20%E9%BB%98%E8%AE%A4%20alphabetic%5Cn%20%20%20%20cxt.textBaseline%20%3D%20'alphabetic'%5Cn%20%20%20%20cxt.fillText('%E9%9B%B7%E7%8C%B4%20alphabetic'%2C%2010%2C%20150)%5Cn%5Cn%20%20%20%20%2F%2F%20%E9%BB%98%E8%AE%A4%20top%5Cn%20%20%20%20cxt.textBaseline%20%3D%20'top'%5Cn%20%20%20%20cxt.fillText('%E9%9B%B7%E7%8C%B4%20top'%2C%20200%2C%20150)%5Cn%5Cn%20%20%20%20%2F%2F%20%E9%BB%98%E8%AE%A4%20bottom%5Cn%20%20%20%20cxt.textBaseline%20%3D%20'bottom'%5Cn%20%20%20%20cxt.fillText('%E9%9B%B7%E7%8C%B4%20bottom'%2C%20320%2C%20150)%5Cn%5Cn%20%20%20%20%2F%2F%20%E9%BB%98%E8%AE%A4%20middle%5Cn%20%20%20%20cxt.textBaseline%20%3D%20'middle'%5Cn%20%20%20%20cxt.fillText('%E9%9B%B7%E7%8C%B4%20middle'%2C%20480%2C%20150)%5Cn%5Cn%20%20%20%20%2F%2F%20%E9%BB%98%E8%AE%A4%20hanging%5Cn%20%20%20%20cxt.textBaseline%20%3D%20'hanging'%5Cn%20%20%20%20cxt.fillText('%E9%9B%B7%E7%8C%B4%20hanging'%2C%20640%2C%20150)%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_040<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>800<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_040'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>

    <span class="token comment">// 横向的辅助线（参考线，在画布中间）</span>
    cxt<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">800</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span>strokeStyle <span class="token operator">=</span> <span class="token string">'red'</span>
    cxt<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    cxt<span class="token punctuation">.</span>font <span class="token operator">=</span> <span class="token string">'20px Arial'</span>

    <span class="token comment">// 默认 alphabetic</span>
    cxt<span class="token punctuation">.</span>textBaseline <span class="token operator">=</span> <span class="token string">'alphabetic'</span>
    cxt<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">'雷猴 alphabetic'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span>

    <span class="token comment">// 默认 top</span>
    cxt<span class="token punctuation">.</span>textBaseline <span class="token operator">=</span> <span class="token string">'top'</span>
    cxt<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">'雷猴 top'</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span>

    <span class="token comment">// 默认 bottom</span>
    cxt<span class="token punctuation">.</span>textBaseline <span class="token operator">=</span> <span class="token string">'bottom'</span>
    cxt<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">'雷猴 bottom'</span><span class="token punctuation">,</span> <span class="token number">320</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span>

    <span class="token comment">// 默认 middle</span>
    cxt<span class="token punctuation">.</span>textBaseline <span class="token operator">=</span> <span class="token string">'middle'</span>
    cxt<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">'雷猴 middle'</span><span class="token punctuation">,</span> <span class="token number">480</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span>

    <span class="token comment">// 默认 hanging</span>
    cxt<span class="token punctuation">.</span>textBaseline <span class="token operator">=</span> <span class="token string">'hanging'</span>
    cxt<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span><span class="token string">'雷猴 hanging'</span><span class="token punctuation">,</span> <span class="token number">640</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo><div class="custom-container info">
<p class="custom-container-title">Tips</p>
<p>在绘制文字的时候，默认是以文字的左下角作为参考点进行绘制</p>
</div>
<h3 id="图片" tabindex="-1"><a class="header-anchor" href="#图片" aria-hidden="true">#</a> 图片</h3>
<p>在 Canvas 中可以使用 drawImage() 方法绘制图片。</p>
<h4 id="渲染图片" tabindex="-1"><a class="header-anchor" href="#渲染图片" aria-hidden="true">#</a> 渲染图片</h4>
<p>渲染图片的方式有两种，一种是在<code v-pre>JS里加载图片</code>再渲染，另一种是把<code v-pre>DOM里的图片</code>拿到 <code v-pre>canvas</code> 里渲染。</p>
<p>语法：<code v-pre>drawImage(image, dx, dy)</code></p>
<ul>
<li>image: 要渲染的图片对象。</li>
<li>dx: 图片左上角的横坐标位置。</li>
<li>dy: 图片左上角的纵坐标位置。</li>
</ul>
<h5 id="js版" tabindex="-1"><a class="header-anchor" href="#js版" aria-hidden="true">#</a> JS版</h5>
<p>在 JS 里加载图片并渲染，有以下几个步骤：</p>
<ol>
<li>创建 Image 对象</li>
<li>引入图片</li>
<li>等待图片加载完成</li>
<li>使用 drawImage() 方法渲染图片</li>
</ol>

<CodeDemo id="code-demo-24796840" type="vue" code="%7B%22vue%22%3A%22%3Ctemplate%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_041%5C%22%20width%3D%5C%22900%5C%22%20height%3D%5C%22500%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20%20%20const%20cnv%20%3D%20document.getElementById('canvas_041')%5Cn%20%20%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%5Cn%20%20%20%20%2F%2F%201%20%E5%88%9B%E5%BB%BA%20Image%20%E5%AF%B9%E8%B1%A1%5Cn%20%20%20%20const%20image%20%3D%20new%20Image()%5Cn%5Cn%20%20%20%20%2F%2F%202%20%E5%BC%95%E5%85%A5%E5%9B%BE%E7%89%87%5Cn%20%20%20%20image.src%20%3D%20'%2Fassets%2Fknowledge%2FfrontEnd%2Fcanvas%2FKFC_001.jpg'%5Cn%5Cn%20%20%20%20%2F%2F%203%20%E7%AD%89%E5%BE%85%E5%9B%BE%E7%89%87%E5%8A%A0%E8%BD%BD%E5%AE%8C%E6%88%90%5Cn%20%20%20%20image.onload%20%3D%20()%20%3D%3E%20%7B%5Cn%20%20%20%20%20%20%2F%2F%204%20%E4%BD%BF%E7%94%A8%20drawImage()%20%E6%96%B9%E6%B3%95%E6%B8%B2%E6%9F%93%E5%9B%BE%E7%89%87%5Cn%20%20%20%20%20%20cxt.drawImage(image%2C%2030%2C%2030)%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_041<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>900<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>500<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_041'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>

    <span class="token comment">// 1 创建 Image 对象</span>
    <span class="token keyword">const</span> image <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// 2 引入图片</span>
    image<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">'/assets/knowledge/frontEnd/canvas/KFC_001.jpg'</span>

    <span class="token comment">// 3 等待图片加载完成</span>
    image<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token comment">// 4 使用 drawImage() 方法渲染图片</span>
      cxt<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo><h5 id="dom版" tabindex="-1"><a class="header-anchor" href="#dom版" aria-hidden="true">#</a> DOM版</h5>

<CodeDemo id="code-demo-17badd96" type="vue" code="%7B%22vue%22%3A%22%3Cstyle%3E%5Cn%20%20%23dogImg%20%7B%5Cn%20%20%20%20display%3A%20none%3B%5Cn%20%20%7D%5Cn%3C%2Fstyle%3E%5Cn%5Cn%3Ctemplate%3E%5Cn%3Cimg%20src%3D%5C%22%2Fassets%2Fknowledge%2FfrontEnd%2Fcanvas%2FKFC_001.jpg%5C%22%20id%3D%5C%22dogImg%5C%22%2F%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_042%5C%22%20width%3D%5C%22900%5C%22%20height%3D%5C%22500%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20%20%20const%20cnv%20%3D%20document.getElementById('canvas_042')%5Cn%20%20%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%20%20%20%20const%20image%20%3D%20document.getElementById('dogImg')%5Cn%20%20%20%20image.onload%20%3D%20()%20%3D%3E%20%7B%5Cn%20%20%20%20%20%20%2F%2F%204%20%E4%BD%BF%E7%94%A8%20drawImage()%20%E6%96%B9%E6%B3%95%E6%B8%B2%E6%9F%93%E5%9B%BE%E7%89%87%5Cn%20%20%20%20%20%20cxt.drawImage(image%2C%2070%2C%2070)%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
  <span class="token selector">#dogImg</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/assets/knowledge/frontEnd/canvas/KFC_001.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dogImg<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_042<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>900<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>500<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_042'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> image <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'dogImg'</span><span class="token punctuation">)</span>
    image<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token comment">// 4 使用 drawImage() 方法渲染图片</span>
      cxt<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo><p>因为图片是从 <code v-pre>DOM</code> 里获取到的，所以一般来说，只要在 <code v-pre>window.onload</code> 这个生命周期内使用 <code v-pre>drawImage</code> 都可以<code v-pre>正常渲染</code>图片。前提是dom元素图片<code v-pre>加载完成</code>。</p>
<h4 id="设置图片宽高" tabindex="-1"><a class="header-anchor" href="#设置图片宽高" aria-hidden="true">#</a> 设置图片宽高</h4>
<p>前面的例子都是直接加载图片，图片<code v-pre>默认</code>的宽高是多少就加载多少。</p>
<p>如果需要指定图片宽高，可以在前面的基础上再添加两个参数：</p>
<p><code v-pre>drawImage(image, dx, dy, dw, dh)</code></p>

<CodeDemo id="code-demo-c19f02b4" type="vue" code="%7B%22vue%22%3A%22%3Ctemplate%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_043%5C%22%20width%3D%5C%22500%5C%22%20height%3D%5C%22200%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20%20%20const%20cnv%20%3D%20document.getElementById('canvas_043')%5Cn%20%20%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%5Cn%20%20%20%20const%20image%20%3D%20new%20Image()%5Cn%20%20%20%20image.src%20%3D%20'%2Fassets%2Fknowledge%2FfrontEnd%2Fcanvas%2FKFC_001.jpg'%5Cn%5Cn%20%20%20%20image.onload%20%3D%20()%20%3D%3E%20%7B%5Cn%20%20%20%20%20%20cxt.drawImage(image%2C%2030%2C%2030%2C%20100%2C%20100)%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_043<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>500<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>200<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_043'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>

    <span class="token keyword">const</span> image <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    image<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">'/assets/knowledge/frontEnd/canvas/KFC_001.jpg'</span>

    image<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      cxt<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo><h4 id="截取图片" tabindex="-1"><a class="header-anchor" href="#截取图片" aria-hidden="true">#</a> 截取图片</h4>
<p>截图图片同样使用<code v-pre>drawImage()</code> 方法，只不过传入的参数<code v-pre>数量</code>比之前都<code v-pre>多</code>，而且<code v-pre>顺序</code>也有点<code v-pre>不一样</code>了。</p>
<p><code v-pre>drawImage(image, sx, sy, sw, sh, dx, dy, dw, dh)</code></p>
<ul>
<li>image: 图片对象</li>
<li>sx: 开始截取的横坐标</li>
<li>sy: 开始截取的纵坐标</li>
<li>sw: 截取的宽度</li>
<li>sh: 截取的高度</li>
<li>dx: 图片左上角的横坐标位置</li>
<li>dy: 图片左上角的纵坐标位置</li>
<li>dw: 图片宽度</li>
<li>dh: 图片高度</li>
</ul>

<CodeDemo id="code-demo-1a03d090" type="vue" code="%7B%22vue%22%3A%22%3Ctemplate%3E%5Cn%3Ccanvas%20id%3D%5C%22canvas_044%5C%22%20width%3D%5C%22300%5C%22%20height%3D%5C%22300%5C%22%20style%3D%5C%22border%3A%201px%20solid%20%23ccc%3B%5C%22%3E%3C%2Fcanvas%3E%5Cn%3C%2Ftemplate%3E%5Cn%5Cn%3Cscript%3E%5Cnexport%20default%20%7B%5Cn%20%20mounted()%20%7B%5Cn%20%20%20%20const%20cnv%20%3D%20document.getElementById('canvas_044')%5Cn%20%20%20%20const%20cxt%20%3D%20cnv.getContext('2d')%5Cn%5Cn%20%20%20%20const%20image%20%3D%20new%20Image()%5Cn%20%20%20%20image.src%20%3D%20'%2Fassets%2Fknowledge%2FfrontEnd%2Fcanvas%2FKFC_001.jpg'%5Cn%5Cn%20%20%20%20image.onload%20%3D%20()%20%3D%3E%20%7B%5Cn%20%20%20%20%20%20cxt.drawImage(image%2C%200%2C%200%2C%20200%2C%20200%2C%200%2C%200%2C%20200%2C%20200)%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%3C%2Fscript%3E%5Cn%22%7D">
<div class="language-vue ext-vue line-numbers-mode"><pre v-pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canvas_044<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>300<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ccc<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> cnv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_044'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cxt <span class="token operator">=</span> cnv<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span>

    <span class="token keyword">const</span> image <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    image<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">'/assets/knowledge/frontEnd/canvas/KFC_001.jpg'</span>

    image<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      cxt<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></CodeDemo></div></template>


