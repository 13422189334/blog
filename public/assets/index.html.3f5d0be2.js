import{_ as n}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as s,c as a,b as e}from"./app.289de5ca.js";const t={},p=e(`<div class="custom-container danger"><p class="custom-container-title">\u8B66\u544A</p><p>require.context()\u5F15\u5165\u591A\u4E2A\u7EC4\u4EF6</p><p>\u5E38\u5E38\u7528\u6765\u5728\u7EC4\u4EF6\u5185\u5F15\u5165\u591A\u4E2A\u7EC4\u4EF6, <code>require.context(directory, useSubdirectories, regExp)</code></p></div><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code>// \u539F\u59CB\u5199\u6CD5
import titleCom from &#39;@/components/home/titleCom&#39;
import bannerCom from &#39;@/components/home/bannerCom&#39;
import cellCom from &#39;@/components/home/cellCom&#39;
components: {
  titleCom, bannerCom, cellCom
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8FD9\u6837\u5C31\u5199\u4E86\u5927\u91CF\u91CD\u590D\u7684\u4EE3\u7801,\u5229\u7528 <code>require.context</code> \u53EF\u4EE5\u5199\u6210</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> files <span class="token operator">=</span> require<span class="token punctuation">.</span><span class="token function">context</span><span class="token punctuation">(</span><span class="token string">&#39;@/components/home&#39;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.vue$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span>
<span class="token keyword">const</span> modules <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
files<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> name <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">basename</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token string">&#39;.vue&#39;</span><span class="token punctuation">)</span>
  modules<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">files</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">.</span>default <span class="token operator">||</span> <span class="token function">files</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token literal-property property">components</span><span class="token operator">:</span> modules
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728main.js\u4E2D\u5F15\u5165\u5927\u91CF\u516C\u5171\u7EC4\u4EF6,\u5229\u7528 <code>require.context</code> \u53EF\u4EE5\u5199\u6210</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token comment">// \u81EA\u5B9A\u4E49\u7EC4\u4EF6</span>
<span class="token keyword">const</span> requireComponents <span class="token operator">=</span> require<span class="token punctuation">.</span><span class="token function">context</span><span class="token punctuation">(</span><span class="token string">&#39;../views/components&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.vue</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span>
<span class="token comment">// \u6253\u5370\u7ED3\u679C</span>
<span class="token comment">// \u904D\u5386\u51FA\u6BCF\u4E2A\u7EC4\u4EF6\u7684\u8DEF\u5F84</span>
requireComponents<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">fileName</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u7EC4\u4EF6\u5B9E\u4F8B</span>
  <span class="token keyword">const</span> reqCom <span class="token operator">=</span> <span class="token function">requireComponents</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span>
  <span class="token comment">// \u622A\u53D6\u8DEF\u5F84\u4F5C\u4E3A\u7EC4\u4EF6\u540D</span>
  <span class="token keyword">const</span> reqComName <span class="token operator">=</span>reqCom<span class="token punctuation">.</span>name<span class="token operator">||</span> fileName<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.\\/(.*)\\.vue</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span><span class="token string">&#39;$1&#39;</span><span class="token punctuation">)</span>
  <span class="token comment">// \u7EC4\u4EF6\u6302\u8F7D</span>
  Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span>reqComName<span class="token punctuation">,</span> reqCom<span class="token punctuation">.</span>default <span class="token operator">||</span> reqCom<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,6),o=[p];function c(i,l){return s(),a("div",null,o)}const k=n(t,[["render",c],["__file","index.html.vue"]]);export{k as default};
